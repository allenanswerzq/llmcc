===============================================================================
walrus-operator
===============================================================================
Named expressions (walrus operator :=).
lang: python

--- file: src/lib.py ---
def with_walrus(items: list) -> list:
    # Named expression in while
    result = []
    while (item := get_next(items)):
        result.append(item)
    return result

def in_if(value: int) -> str:
    if (n := value * 2) > 10:
        return f"Large: {n}"
    return "Small"

def in_comprehension(items: list) -> list:
    return [y for x in items if (y := compute(x)) > 0]

def get_next(items):
    pass

def compute(x):
    pass

--- expect:block-graph ---
(root:1 lib ($TMP/src/lib.py)
  (func:2 with_walrus
    (parameter:3 items @type list)
    (return:4 @type list)
  )
  (func:5 in_if
    (parameter:6 value @type int)
    (return:7 @type str)
  )
  (func:8 in_comprehension
    (parameter:9 items @type list)
    (return:10 @type list)
  )
  (func:11 get_next
    (parameter:12 items)
  )
  (func:13 compute
    (parameter:14 x)
  )
)

