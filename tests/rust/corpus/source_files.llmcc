===============================================================================
block-comments
===============================================================================


--- file: src/main.rs ---
/*
 * Block comments
 */

/* Comment with asterisks **/

/** Outer block comment */


/*! Inner block comment */
/**/

--- expect:symbols ---
u0:1 | Module | main | main | [global]
u0:2 | File   | main | main |         

--- expect:graph ---
digraph DesignGraph {
}


===============================================================================
nested-block-comments
===============================================================================


--- file: src/main.rs ---
/* /* double nested */ */

// ---

/*/*/* triple nested */*/*/

// ---

/****
  /****
    nested with extra stars which makes it a regular block comment
    and not a block doc comment
  ****/
****/

// ---

--- expect:symbols ---
u0:1 | Module | main | main | [global]
u0:2 | File   | main | main |         

--- expect:graph ---
digraph DesignGraph {
}


===============================================================================
line-comments
===============================================================================


--- file: src/main.rs ---
// Comment

/// Outer line doc comment

//! Inner line doc comment

--- expect:symbols ---
u0:1 | Module | main | main | [global]
u0:2 | File   | main | main |         

--- expect:graph ---
digraph DesignGraph {
}


===============================================================================
line-doc-comments
===============================================================================


--- file: src/main.rs ---
//!  - Inner line doc
//!! - Still an inner line doc (but with a bang at the beginning)

//   - Only a comment
///  - Outer line doc (exactly 3 slashes)
///
//// - Only a comment

--- expect:symbols ---
u0:1 | Module | main | main | [global]
u0:2 | File   | main | main |         

--- expect:graph ---
digraph DesignGraph {
}


===============================================================================
block-doc-comments
===============================================================================


--- file: src/main.rs ---
/*!  - Inner block doc */
/*!! - Still an inner block doc (but with a bang at the beginning) */

/*   - Only a comment */
/**  - Outer block doc (exactly) 2 asterisks */
/*** - Only a comment */

--- expect:symbols ---
u0:1 | Module | main | main | [global]
u0:2 | File   | main | main |         

--- expect:graph ---
digraph DesignGraph {
}


===============================================================================
nested-doc-block-comments
===============================================================================


--- file: src/main.rs ---
/*   /* */  /** */  /*! */  */
/*!  /* */  /** */  /*! */  */
/**  /* */  /** */  /*! */  */

--- expect:symbols ---
u0:1 | Module | main | main | [global]
u0:2 | File   | main | main |         

--- expect:graph ---
digraph DesignGraph {
}


===============================================================================
comments-degenerate-cases
===============================================================================


--- file: src/main.rs ---
//!

/*!*/

//

///
let x; // <- immediate item after an empty line doc comment

/**/

/***/

--- expect:symbols ---
u0:1 | Module   | main | main | [global]
u0:2 | File     | main | main |         
u0:3 | Variable | x    | x    |         

--- expect:graph ---
digraph DesignGraph {
}


===============================================================================
line-doc-comment-with-no-eol
===============================================================================


--- file: src/main.rs ---
//! Doc comment

--- expect:symbols ---
u0:1 | Module | main | main | [global]
u0:2 | File   | main | main |         

--- expect:graph ---
digraph DesignGraph {
}


===============================================================================
greek-letters-in-identifiers
===============================================================================


--- file: src/main.rs ---
const σ1 : Σ = 0;
const ψ_2 : Ψ = 1;

--- expect:symbols ---
u0:1 | Module | main | main | [global]
u0:2 | File   | main | main |         
u0:3 | Const  | σ1   | σ1   |         
u0:4 | Const  | ψ_2  | ψ_2  |         

--- expect:graph ---
digraph DesignGraph {
}


===============================================================================
shebang-line-containing-spaces
===============================================================================


--- file: src/main.rs ---
#!/usr/bin/env -S cargo +nightly -Zscript

--- expect:symbols ---
u0:1 | Module | main | main | [global]
u0:2 | File   | main | main |         

--- expect:graph ---
digraph DesignGraph {
}


===============================================================================
empty-shebang-with-code-after
===============================================================================


--- file: src/main.rs ---
#!
fn main() {}

--- expect:symbols ---
u0:1 | Module   | main | main | [global]
u0:2 | File     | main | main |         
u0:3 | Function | main | main |         

--- expect:graph ---
digraph project {
}


===============================================================================
immediate-inner-attribute
===============================================================================


--- file: src/main.rs ---
#![feature(thing)]
fn main() {}

--- expect:symbols ---
u0:1 | Module   | main | main | [global]
u0:2 | File     | main | main |         
u0:3 | Function | main | main |         

--- expect:graph ---
digraph project {
}
