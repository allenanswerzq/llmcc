===============================================================================
block-comments
===============================================================================


--- file: src/main.rs ---
/*
 * Block comments
 */

/* Comment with asterisks **/

/** Outer block comment */


/*! Inner block comment */
/**/

--- expect:symbols ---
u0:1  | Primitive | i32    | i32       | [global]
u0:2  | Primitive | i64    | i64       | [global]
u0:3  | Primitive | i16    | i16       | [global]
u0:4  | Primitive | i8     | i8        | [global]
u0:5  | Primitive | i128   | i128      | [global]
u0:6  | Primitive | isize  | isize     | [global]
u0:7  | Primitive | u32    | u32       | [global]
u0:8  | Primitive | u64    | u64       | [global]
u0:9  | Primitive | u16    | u16       | [global]
u0:10 | Primitive | u8     | u8        | [global]
u0:11 | Primitive | u128   | u128      | [global]
u0:12 | Primitive | usize  | usize     | [global]
u0:13 | Primitive | f32    | f32       | [global]
u0:14 | Primitive | f64    | f64       | [global]
u0:15 | Primitive | bool   | bool      | [global]
u0:16 | Primitive | char   | char      | [global]
u0:17 | Primitive | str    | str       | [global]
u0:18 | Primitive | String | String    | [global]
u0:19 | Crate     | _c     | _c        | [global]
u0:20 | Crate     | crate  | _c::crate |         
u0:21 | File      | main   | _c::main  |         

--- expect:graph ---
digraph project {
}

--- expect:symbol-deps ---


===============================================================================
nested-block-comments
===============================================================================


--- file: src/main.rs ---
/* /* double nested */ */

// ---

/*/*/* triple nested */*/*/

// ---

/****
  /****
    nested with extra stars which makes it a regular block comment
    and not a block doc comment
  ****/
****/

// ---

--- expect:symbols ---
u0:1  | Primitive | i32    | i32       | [global]
u0:2  | Primitive | i64    | i64       | [global]
u0:3  | Primitive | i16    | i16       | [global]
u0:4  | Primitive | i8     | i8        | [global]
u0:5  | Primitive | i128   | i128      | [global]
u0:6  | Primitive | isize  | isize     | [global]
u0:7  | Primitive | u32    | u32       | [global]
u0:8  | Primitive | u64    | u64       | [global]
u0:9  | Primitive | u16    | u16       | [global]
u0:10 | Primitive | u8     | u8        | [global]
u0:11 | Primitive | u128   | u128      | [global]
u0:12 | Primitive | usize  | usize     | [global]
u0:13 | Primitive | f32    | f32       | [global]
u0:14 | Primitive | f64    | f64       | [global]
u0:15 | Primitive | bool   | bool      | [global]
u0:16 | Primitive | char   | char      | [global]
u0:17 | Primitive | str    | str       | [global]
u0:18 | Primitive | String | String    | [global]
u0:19 | Crate     | _c     | _c        | [global]
u0:20 | Crate     | crate  | _c::crate |         
u0:21 | File      | main   | _c::main  |         

--- expect:graph ---
digraph project {
}

--- expect:symbol-deps ---


===============================================================================
line-comments
===============================================================================


--- file: src/main.rs ---
// Comment

/// Outer line doc comment

//! Inner line doc comment

--- expect:symbols ---
u0:1  | Primitive | i32    | i32       | [global]
u0:2  | Primitive | i64    | i64       | [global]
u0:3  | Primitive | i16    | i16       | [global]
u0:4  | Primitive | i8     | i8        | [global]
u0:5  | Primitive | i128   | i128      | [global]
u0:6  | Primitive | isize  | isize     | [global]
u0:7  | Primitive | u32    | u32       | [global]
u0:8  | Primitive | u64    | u64       | [global]
u0:9  | Primitive | u16    | u16       | [global]
u0:10 | Primitive | u8     | u8        | [global]
u0:11 | Primitive | u128   | u128      | [global]
u0:12 | Primitive | usize  | usize     | [global]
u0:13 | Primitive | f32    | f32       | [global]
u0:14 | Primitive | f64    | f64       | [global]
u0:15 | Primitive | bool   | bool      | [global]
u0:16 | Primitive | char   | char      | [global]
u0:17 | Primitive | str    | str       | [global]
u0:18 | Primitive | String | String    | [global]
u0:19 | Crate     | _c     | _c        | [global]
u0:20 | Crate     | crate  | _c::crate |         
u0:21 | File      | main   | _c::main  |         

--- expect:graph ---
digraph project {
}

--- expect:symbol-deps ---


===============================================================================
line-doc-comments
===============================================================================


--- file: src/main.rs ---
//!  - Inner line doc
//!! - Still an inner line doc (but with a bang at the beginning)

//   - Only a comment
///  - Outer line doc (exactly 3 slashes)
///
//// - Only a comment

--- expect:symbols ---
u0:1  | Primitive | i32    | i32       | [global]
u0:2  | Primitive | i64    | i64       | [global]
u0:3  | Primitive | i16    | i16       | [global]
u0:4  | Primitive | i8     | i8        | [global]
u0:5  | Primitive | i128   | i128      | [global]
u0:6  | Primitive | isize  | isize     | [global]
u0:7  | Primitive | u32    | u32       | [global]
u0:8  | Primitive | u64    | u64       | [global]
u0:9  | Primitive | u16    | u16       | [global]
u0:10 | Primitive | u8     | u8        | [global]
u0:11 | Primitive | u128   | u128      | [global]
u0:12 | Primitive | usize  | usize     | [global]
u0:13 | Primitive | f32    | f32       | [global]
u0:14 | Primitive | f64    | f64       | [global]
u0:15 | Primitive | bool   | bool      | [global]
u0:16 | Primitive | char   | char      | [global]
u0:17 | Primitive | str    | str       | [global]
u0:18 | Primitive | String | String    | [global]
u0:19 | Crate     | _c     | _c        | [global]
u0:20 | Crate     | crate  | _c::crate |         
u0:21 | File      | main   | _c::main  |         

--- expect:graph ---
digraph project {
}

--- expect:symbol-deps ---


===============================================================================
block-doc-comments
===============================================================================


--- file: src/main.rs ---
/*!  - Inner block doc */
/*!! - Still an inner block doc (but with a bang at the beginning) */

/*   - Only a comment */
/**  - Outer block doc (exactly) 2 asterisks */
/*** - Only a comment */

--- expect:symbols ---
u0:1  | Primitive | i32    | i32       | [global]
u0:2  | Primitive | i64    | i64       | [global]
u0:3  | Primitive | i16    | i16       | [global]
u0:4  | Primitive | i8     | i8        | [global]
u0:5  | Primitive | i128   | i128      | [global]
u0:6  | Primitive | isize  | isize     | [global]
u0:7  | Primitive | u32    | u32       | [global]
u0:8  | Primitive | u64    | u64       | [global]
u0:9  | Primitive | u16    | u16       | [global]
u0:10 | Primitive | u8     | u8        | [global]
u0:11 | Primitive | u128   | u128      | [global]
u0:12 | Primitive | usize  | usize     | [global]
u0:13 | Primitive | f32    | f32       | [global]
u0:14 | Primitive | f64    | f64       | [global]
u0:15 | Primitive | bool   | bool      | [global]
u0:16 | Primitive | char   | char      | [global]
u0:17 | Primitive | str    | str       | [global]
u0:18 | Primitive | String | String    | [global]
u0:19 | Crate     | _c     | _c        | [global]
u0:20 | Crate     | crate  | _c::crate |         
u0:21 | File      | main   | _c::main  |         

--- expect:graph ---
digraph project {
}

--- expect:symbol-deps ---


===============================================================================
nested-doc-block-comments
===============================================================================


--- file: src/main.rs ---
/*   /* */  /** */  /*! */  */
/*!  /* */  /** */  /*! */  */
/**  /* */  /** */  /*! */  */

--- expect:symbols ---
u0:1  | Primitive | i32    | i32       | [global]
u0:2  | Primitive | i64    | i64       | [global]
u0:3  | Primitive | i16    | i16       | [global]
u0:4  | Primitive | i8     | i8        | [global]
u0:5  | Primitive | i128   | i128      | [global]
u0:6  | Primitive | isize  | isize     | [global]
u0:7  | Primitive | u32    | u32       | [global]
u0:8  | Primitive | u64    | u64       | [global]
u0:9  | Primitive | u16    | u16       | [global]
u0:10 | Primitive | u8     | u8        | [global]
u0:11 | Primitive | u128   | u128      | [global]
u0:12 | Primitive | usize  | usize     | [global]
u0:13 | Primitive | f32    | f32       | [global]
u0:14 | Primitive | f64    | f64       | [global]
u0:15 | Primitive | bool   | bool      | [global]
u0:16 | Primitive | char   | char      | [global]
u0:17 | Primitive | str    | str       | [global]
u0:18 | Primitive | String | String    | [global]
u0:19 | Crate     | _c     | _c        | [global]
u0:20 | Crate     | crate  | _c::crate |         
u0:21 | File      | main   | _c::main  |         

--- expect:graph ---
digraph project {
}

--- expect:symbol-deps ---


===============================================================================
comments-degenerate-cases
===============================================================================


--- file: src/main.rs ---
//!

/*!*/

//

///
let x; // <- immediate item after an empty line doc comment

/**/

/***/

--- expect:symbols ---
u0:1  | Primitive | i32    | i32         | [global]
u0:2  | Primitive | i64    | i64         | [global]
u0:3  | Primitive | i16    | i16         | [global]
u0:4  | Primitive | i8     | i8          | [global]
u0:5  | Primitive | i128   | i128        | [global]
u0:6  | Primitive | isize  | isize       | [global]
u0:7  | Primitive | u32    | u32         | [global]
u0:8  | Primitive | u64    | u64         | [global]
u0:9  | Primitive | u16    | u16         | [global]
u0:10 | Primitive | u8     | u8          | [global]
u0:11 | Primitive | u128   | u128        | [global]
u0:12 | Primitive | usize  | usize       | [global]
u0:13 | Primitive | f32    | f32         | [global]
u0:14 | Primitive | f64    | f64         | [global]
u0:15 | Primitive | bool   | bool        | [global]
u0:16 | Primitive | char   | char        | [global]
u0:17 | Primitive | str    | str         | [global]
u0:18 | Primitive | String | String      | [global]
u0:19 | Crate     | _c     | _c          | [global]
u0:20 | Crate     | crate  | _c::crate   |         
u0:21 | File      | main   | _c::main    |         
u0:22 | Variable  | x      | _c::main::x |         

--- expect:graph ---
digraph project {
}

--- expect:symbol-deps ---


===============================================================================
line-doc-comment-with-no-eol
===============================================================================


--- file: src/main.rs ---
//! Doc comment

--- expect:symbols ---
u0:1  | Primitive | i32    | i32       | [global]
u0:2  | Primitive | i64    | i64       | [global]
u0:3  | Primitive | i16    | i16       | [global]
u0:4  | Primitive | i8     | i8        | [global]
u0:5  | Primitive | i128   | i128      | [global]
u0:6  | Primitive | isize  | isize     | [global]
u0:7  | Primitive | u32    | u32       | [global]
u0:8  | Primitive | u64    | u64       | [global]
u0:9  | Primitive | u16    | u16       | [global]
u0:10 | Primitive | u8     | u8        | [global]
u0:11 | Primitive | u128   | u128      | [global]
u0:12 | Primitive | usize  | usize     | [global]
u0:13 | Primitive | f32    | f32       | [global]
u0:14 | Primitive | f64    | f64       | [global]
u0:15 | Primitive | bool   | bool      | [global]
u0:16 | Primitive | char   | char      | [global]
u0:17 | Primitive | str    | str       | [global]
u0:18 | Primitive | String | String    | [global]
u0:19 | Crate     | _c     | _c        | [global]
u0:20 | Crate     | crate  | _c::crate |         
u0:21 | File      | main   | _c::main  |         

--- expect:graph ---
digraph project {
}

--- expect:symbol-deps ---


===============================================================================
greek-letters-in-identifiers
===============================================================================


--- file: src/main.rs ---
const σ1 : Σ = 0;
const ψ_2 : Ψ = 1;

--- expect:symbols ---
u0:1  | Primitive | i32    | i32            | [global]
u0:2  | Primitive | i64    | i64            | [global]
u0:3  | Primitive | i16    | i16            | [global]
u0:4  | Primitive | i8     | i8             | [global]
u0:5  | Primitive | i128   | i128           | [global]
u0:6  | Primitive | isize  | isize          | [global]
u0:7  | Primitive | u32    | u32            | [global]
u0:8  | Primitive | u64    | u64            | [global]
u0:9  | Primitive | u16    | u16            | [global]
u0:10 | Primitive | u8     | u8             | [global]
u0:11 | Primitive | u128   | u128           | [global]
u0:12 | Primitive | usize  | usize          | [global]
u0:13 | Primitive | f32    | f32            | [global]
u0:14 | Primitive | f64    | f64            | [global]
u0:15 | Primitive | bool   | bool           | [global]
u0:16 | Primitive | char   | char           | [global]
u0:17 | Primitive | str    | str            | [global]
u0:18 | Primitive | String | String         | [global]
u0:19 | Crate     | _c     | _c             | [global]
u0:20 | Crate     | crate  | _c::crate      |         
u0:21 | File      | main   | _c::main       |         
u0:22 | Const     | σ1     | _c::main::σ1   |         
u0:23 | Const     | ψ_2    | _c::main::ψ_2  |         

--- expect:graph ---
digraph project {
}

--- expect:symbol-deps ---


===============================================================================
shebang-line-containing-spaces
===============================================================================


--- file: src/main.rs ---
#!/usr/bin/env -S cargo +nightly -Zscript

--- expect:symbols ---
u0:1  | Primitive | i32    | i32       | [global]
u0:2  | Primitive | i64    | i64       | [global]
u0:3  | Primitive | i16    | i16       | [global]
u0:4  | Primitive | i8     | i8        | [global]
u0:5  | Primitive | i128   | i128      | [global]
u0:6  | Primitive | isize  | isize     | [global]
u0:7  | Primitive | u32    | u32       | [global]
u0:8  | Primitive | u64    | u64       | [global]
u0:9  | Primitive | u16    | u16       | [global]
u0:10 | Primitive | u8     | u8        | [global]
u0:11 | Primitive | u128   | u128      | [global]
u0:12 | Primitive | usize  | usize     | [global]
u0:13 | Primitive | f32    | f32       | [global]
u0:14 | Primitive | f64    | f64       | [global]
u0:15 | Primitive | bool   | bool      | [global]
u0:16 | Primitive | char   | char      | [global]
u0:17 | Primitive | str    | str       | [global]
u0:18 | Primitive | String | String    | [global]
u0:19 | Crate     | _c     | _c        | [global]
u0:20 | Crate     | crate  | _c::crate |         
u0:21 | File      | main   | _c::main  |         

--- expect:graph ---
digraph project {
}

--- expect:symbol-deps ---


===============================================================================
empty-shebang-with-code-after
===============================================================================


--- file: src/main.rs ---
#!
fn main() {}

--- expect:symbols ---
u0:1  | Primitive | i32    | i32            | [global]
u0:2  | Primitive | i64    | i64            | [global]
u0:3  | Primitive | i16    | i16            | [global]
u0:4  | Primitive | i8     | i8             | [global]
u0:5  | Primitive | i128   | i128           | [global]
u0:6  | Primitive | isize  | isize          | [global]
u0:7  | Primitive | u32    | u32            | [global]
u0:8  | Primitive | u64    | u64            | [global]
u0:9  | Primitive | u16    | u16            | [global]
u0:10 | Primitive | u8     | u8             | [global]
u0:11 | Primitive | u128   | u128           | [global]
u0:12 | Primitive | usize  | usize          | [global]
u0:13 | Primitive | f32    | f32            | [global]
u0:14 | Primitive | f64    | f64            | [global]
u0:15 | Primitive | bool   | bool           | [global]
u0:16 | Primitive | char   | char           | [global]
u0:17 | Primitive | str    | str            | [global]
u0:18 | Primitive | String | String         | [global]
u0:19 | Crate     | _c     | _c             | [global]
u0:20 | Crate     | crate  | _c::crate      |         
u0:21 | File      | main   | _c::main       |         
u0:22 | Function  | main   | _c::main::main |         

--- expect:graph ---
digraph project {
}

--- expect:symbol-deps ---


===============================================================================
immediate-inner-attribute
===============================================================================


--- file: src/main.rs ---
#![feature(thing)]
fn main() {}

--- expect:symbols ---
u0:1  | Primitive | i32    | i32            | [global]
u0:2  | Primitive | i64    | i64            | [global]
u0:3  | Primitive | i16    | i16            | [global]
u0:4  | Primitive | i8     | i8             | [global]
u0:5  | Primitive | i128   | i128           | [global]
u0:6  | Primitive | isize  | isize          | [global]
u0:7  | Primitive | u32    | u32            | [global]
u0:8  | Primitive | u64    | u64            | [global]
u0:9  | Primitive | u16    | u16            | [global]
u0:10 | Primitive | u8     | u8             | [global]
u0:11 | Primitive | u128   | u128           | [global]
u0:12 | Primitive | usize  | usize          | [global]
u0:13 | Primitive | f32    | f32            | [global]
u0:14 | Primitive | f64    | f64            | [global]
u0:15 | Primitive | bool   | bool           | [global]
u0:16 | Primitive | char   | char           | [global]
u0:17 | Primitive | str    | str            | [global]
u0:18 | Primitive | String | String         | [global]
u0:19 | Crate     | _c     | _c             | [global]
u0:20 | Crate     | crate  | _c::crate      |         
u0:21 | File      | main   | _c::main       |         
u0:22 | Function  | main   | _c::main::main |         

--- expect:graph ---
digraph project {
}

--- expect:symbol-deps ---
