===============================================================================
modules-basic
===============================================================================


--- file: src/main.rs ---
mod english;

mod english {}

mod english {
    mod greetings {}
    mod farewells {}
}

pub mod english;

--- expect:symbols ---
u0:1  | Primitive | i32       | i32                              | [global]
u0:2  | Primitive | i64       | i64                              | [global]
u0:3  | Primitive | i16       | i16                              | [global]
u0:4  | Primitive | i8        | i8                               | [global]
u0:5  | Primitive | i128      | i128                             | [global]
u0:6  | Primitive | isize     | isize                            | [global]
u0:7  | Primitive | u32       | u32                              | [global]
u0:8  | Primitive | u64       | u64                              | [global]
u0:9  | Primitive | u16       | u16                              | [global]
u0:10 | Primitive | u8        | u8                               | [global]
u0:11 | Primitive | u128      | u128                             | [global]
u0:12 | Primitive | usize     | usize                            | [global]
u0:13 | Primitive | f32       | f32                              | [global]
u0:14 | Primitive | f64       | f64                              | [global]
u0:15 | Primitive | bool      | bool                             | [global]
u0:16 | Primitive | char      | char                             | [global]
u0:17 | Primitive | str       | str                              | [global]
u0:18 | Crate     | _c        | _c                               | [global]
u0:19 | Crate     | crate     | _c::crate                        |
u0:20 | Module    | _m        | _c::_m                           |
u0:21 | File      | main      | _c::_m::main                     |
u0:22 | Namespace | english   | _c::_m::main::english            |
u0:23 | Namespace | greetings | _c::_m::main::english::greetings |
u0:24 | Namespace | farewells | _c::_m::main::english::farewells |

--- expect:symbol-deps ---
u0:22 -> [u0:23, u0:24]
u0:23 <- [u0:22]
u0:24 <- [u0:22]


===============================================================================
extern-crate-declarations
===============================================================================


--- file: src/main.rs ---
extern crate std;
extern crate std as ruststd;
pub extern crate futures;

--- expect:symbols ---
u0:1  | Primitive | i32   | i32          | [global]
u0:2  | Primitive | i64   | i64          | [global]
u0:3  | Primitive | i16   | i16          | [global]
u0:4  | Primitive | i8    | i8           | [global]
u0:5  | Primitive | i128  | i128         | [global]
u0:6  | Primitive | isize | isize        | [global]
u0:7  | Primitive | u32   | u32          | [global]
u0:8  | Primitive | u64   | u64          | [global]
u0:9  | Primitive | u16   | u16          | [global]
u0:10 | Primitive | u8    | u8           | [global]
u0:11 | Primitive | u128  | u128         | [global]
u0:12 | Primitive | usize | usize        | [global]
u0:13 | Primitive | f32   | f32          | [global]
u0:14 | Primitive | f64   | f64          | [global]
u0:15 | Primitive | bool  | bool         | [global]
u0:16 | Primitive | char  | char         | [global]
u0:17 | Primitive | str   | str          | [global]
u0:18 | Crate     | _c    | _c           | [global]
u0:19 | Crate     | crate | _c::crate    |
u0:20 | Module    | _m    | _c::_m       |
u0:21 | File      | main  | _c::_m::main |

--- expect:symbol-deps ---


===============================================================================
function-declarations-one
===============================================================================


--- file: src/main.rs ---
fn main() {}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                | [global]
u0:2  | Primitive | i64   | i64                | [global]
u0:3  | Primitive | i16   | i16                | [global]
u0:4  | Primitive | i8    | i8                 | [global]
u0:5  | Primitive | i128  | i128               | [global]
u0:6  | Primitive | isize | isize              | [global]
u0:7  | Primitive | u32   | u32                | [global]
u0:8  | Primitive | u64   | u64                | [global]
u0:9  | Primitive | u16   | u16                | [global]
u0:10 | Primitive | u8    | u8                 | [global]
u0:11 | Primitive | u128  | u128               | [global]
u0:12 | Primitive | usize | usize              | [global]
u0:13 | Primitive | f32   | f32                | [global]
u0:14 | Primitive | f64   | f64                | [global]
u0:15 | Primitive | bool  | bool               | [global]
u0:16 | Primitive | char  | char               | [global]
u0:17 | Primitive | str   | str                | [global]
u0:18 | Crate     | _c    | _c                 | [global]
u0:19 | Crate     | crate | _c::crate          |         
u0:20 | Module    | _m    | _c::_m             |         
u0:21 | File      | main  | _c::_m::main       |         
u0:22 | Function  | main  | _c::_m::main::main |         

--- expect:symbol-deps ---


===============================================================================
function-declarations-two
===============================================================================


--- file: src/main.rs ---

fn add(x: i32, y: i32) -> i32 {
    return x + y;
}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                  | [global]
u0:2  | Primitive | i64   | i64                  | [global]
u0:3  | Primitive | i16   | i16                  | [global]
u0:4  | Primitive | i8    | i8                   | [global]
u0:5  | Primitive | i128  | i128                 | [global]
u0:6  | Primitive | isize | isize                | [global]
u0:7  | Primitive | u32   | u32                  | [global]
u0:8  | Primitive | u64   | u64                  | [global]
u0:9  | Primitive | u16   | u16                  | [global]
u0:10 | Primitive | u8    | u8                   | [global]
u0:11 | Primitive | u128  | u128                 | [global]
u0:12 | Primitive | usize | usize                | [global]
u0:13 | Primitive | f32   | f32                  | [global]
u0:14 | Primitive | f64   | f64                  | [global]
u0:15 | Primitive | bool  | bool                 | [global]
u0:16 | Primitive | char  | char                 | [global]
u0:17 | Primitive | str   | str                  | [global]
u0:18 | Crate     | _c    | _c                   | [global]
u0:19 | Crate     | crate | _c::crate            |         
u0:20 | Module    | _m    | _c::_m               |         
u0:21 | File      | main  | _c::_m::main         |         
u0:22 | Function  | add   | _c::_m::main::add    |         
u0:23 | Variable  | x     | _c::_m::main::add::x |         
u0:24 | Variable  | y     | _c::_m::main::add::y |         

--- expect:symbol-deps ---
u0:1 <- [u0:22, u0:23, u0:24]
u0:22 -> [u0:1]
u0:23 -> [u0:1]
u0:24 -> [u0:1]


===============================================================================
function-declarations-three
===============================================================================


--- file: src/main.rs ---
fn println(message: &str) {
}

fn takes_slice(slice: &str) {
    println!("Got: {}", slice);
}

--- expect:symbols ---
u0:1  | Primitive | i32         | i32                              | [global]
u0:2  | Primitive | i64         | i64                              | [global]
u0:3  | Primitive | i16         | i16                              | [global]
u0:4  | Primitive | i8          | i8                               | [global]
u0:5  | Primitive | i128        | i128                             | [global]
u0:6  | Primitive | isize       | isize                            | [global]
u0:7  | Primitive | u32         | u32                              | [global]
u0:8  | Primitive | u64         | u64                              | [global]
u0:9  | Primitive | u16         | u16                              | [global]
u0:10 | Primitive | u8          | u8                               | [global]
u0:11 | Primitive | u128        | u128                             | [global]
u0:12 | Primitive | usize       | usize                            | [global]
u0:13 | Primitive | f32         | f32                              | [global]
u0:14 | Primitive | f64         | f64                              | [global]
u0:15 | Primitive | bool        | bool                             | [global]
u0:16 | Primitive | char        | char                             | [global]
u0:17 | Primitive | str         | str                              | [global]
u0:18 | Crate     | _c          | _c                               | [global]
u0:19 | Crate     | crate       | _c::crate                        |         
u0:20 | Module    | _m          | _c::_m                           |         
u0:21 | File      | main        | _c::_m::main                     |         
u0:22 | Function  | println     | _c::_m::main::println            |         
u0:23 | Variable  | message     | _c::_m::main::println::message   |         
u0:24 | Function  | takes_slice | _c::_m::main::takes_slice        |         
u0:25 | Variable  | slice       | _c::_m::main::takes_slice::slice |         

--- expect:symbol-deps ---
u0:17 <- [u0:22, u0:23, u0:24, u0:25]
u0:22 -> [u0:17]
u0:22 <- [u0:24]
u0:23 -> [u0:17]
u0:24 -> [u0:17, u0:22]
u0:25 -> [u0:17]


===============================================================================
function-declarations-four
===============================================================================


--- file: src/main.rs ---
fn foo_1() -> [u32; 2] {
    return [1, 2];
}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                 | [global]
u0:2  | Primitive | i64   | i64                 | [global]
u0:3  | Primitive | i16   | i16                 | [global]
u0:4  | Primitive | i8    | i8                  | [global]
u0:5  | Primitive | i128  | i128                | [global]
u0:6  | Primitive | isize | isize               | [global]
u0:7  | Primitive | u32   | u32                 | [global]
u0:8  | Primitive | u64   | u64                 | [global]
u0:9  | Primitive | u16   | u16                 | [global]
u0:10 | Primitive | u8    | u8                  | [global]
u0:11 | Primitive | u128  | u128                | [global]
u0:12 | Primitive | usize | usize               | [global]
u0:13 | Primitive | f32   | f32                 | [global]
u0:14 | Primitive | f64   | f64                 | [global]
u0:15 | Primitive | bool  | bool                | [global]
u0:16 | Primitive | char  | char                | [global]
u0:17 | Primitive | str   | str                 | [global]
u0:18 | Crate     | _c    | _c                  | [global]
u0:19 | Crate     | crate | _c::crate           |         
u0:20 | Module    | _m    | _c::_m              |         
u0:21 | File      | main  | _c::_m::main        |         
u0:22 | Function  | foo_1 | _c::_m::main::foo_1 |         

--- expect:symbol-deps ---
u0:22 -> [u0:7]
u0:7 <- [u0:22]


===============================================================================
function-declarations-five
===============================================================================


--- file: src/main.rs ---
struct Foo;

fn foo_2() -> (u32, Foo) {
    return (1, Foo);
}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                 | [global]
u0:2  | Primitive | i64   | i64                 | [global]
u0:3  | Primitive | i16   | i16                 | [global]
u0:4  | Primitive | i8    | i8                  | [global]
u0:5  | Primitive | i128  | i128                | [global]
u0:6  | Primitive | isize | isize               | [global]
u0:7  | Primitive | u32   | u32                 | [global]
u0:8  | Primitive | u64   | u64                 | [global]
u0:9  | Primitive | u16   | u16                 | [global]
u0:10 | Primitive | u8    | u8                  | [global]
u0:11 | Primitive | u128  | u128                | [global]
u0:12 | Primitive | usize | usize               | [global]
u0:13 | Primitive | f32   | f32                 | [global]
u0:14 | Primitive | f64   | f64                 | [global]
u0:15 | Primitive | bool  | bool                | [global]
u0:16 | Primitive | char  | char                | [global]
u0:17 | Primitive | str   | str                 | [global]
u0:18 | Crate     | _c    | _c                  | [global]
u0:19 | Crate     | crate | _c::crate           |         
u0:20 | Module    | _m    | _c::_m              |         
u0:21 | File      | main  | _c::_m::main        |         
u0:22 | Struct    | Foo   | _c::_m::main::Foo   |         
u0:23 | Function  | foo_2 | _c::_m::main::foo_2 |         

--- expect:symbol-deps ---
u0:22 <- [u0:23]
u0:23 -> [u0:22, u0:7]
u0:7 <- [u0:23]


===============================================================================
function-declarations-six
===============================================================================


--- file: src/main.rs ---
fn foo_3() -> u32 {
    return
}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                 | [global]
u0:2  | Primitive | i64   | i64                 | [global]
u0:3  | Primitive | i16   | i16                 | [global]
u0:4  | Primitive | i8    | i8                  | [global]
u0:5  | Primitive | i128  | i128                | [global]
u0:6  | Primitive | isize | isize               | [global]
u0:7  | Primitive | u32   | u32                 | [global]
u0:8  | Primitive | u64   | u64                 | [global]
u0:9  | Primitive | u16   | u16                 | [global]
u0:10 | Primitive | u8    | u8                  | [global]
u0:11 | Primitive | u128  | u128                | [global]
u0:12 | Primitive | usize | usize               | [global]
u0:13 | Primitive | f32   | f32                 | [global]
u0:14 | Primitive | f64   | f64                 | [global]
u0:15 | Primitive | bool  | bool                | [global]
u0:16 | Primitive | char  | char                | [global]
u0:17 | Primitive | str   | str                 | [global]
u0:18 | Crate     | _c    | _c                  | [global]
u0:19 | Crate     | crate | _c::crate           |         
u0:20 | Module    | _m    | _c::_m              |         
u0:21 | File      | main  | _c::_m::main        |         
u0:22 | Function  | foo_3 | _c::_m::main::foo_3 |         

--- expect:symbol-deps ---
u0:22 -> [u0:7]
u0:7 <- [u0:22]


===============================================================================
function-declarations-seven
===============================================================================


--- file: src/main.rs ---
trait FnOnce {}
fn foo_4(x: impl FnOnce() -> result::Result<T, E>) {}

--- expect:symbols ---
u0:1  | Primitive | i32    | i32                    | [global]
u0:2  | Primitive | i64    | i64                    | [global]
u0:3  | Primitive | i16    | i16                    | [global]
u0:4  | Primitive | i8     | i8                     | [global]
u0:5  | Primitive | i128   | i128                   | [global]
u0:6  | Primitive | isize  | isize                  | [global]
u0:7  | Primitive | u32    | u32                    | [global]
u0:8  | Primitive | u64    | u64                    | [global]
u0:9  | Primitive | u16    | u16                    | [global]
u0:10 | Primitive | u8     | u8                     | [global]
u0:11 | Primitive | u128   | u128                   | [global]
u0:12 | Primitive | usize  | usize                  | [global]
u0:13 | Primitive | f32    | f32                    | [global]
u0:14 | Primitive | f64    | f64                    | [global]
u0:15 | Primitive | bool   | bool                   | [global]
u0:16 | Primitive | char   | char                   | [global]
u0:17 | Primitive | str    | str                    | [global]
u0:18 | Crate     | _c     | _c                     | [global]
u0:19 | Crate     | crate  | _c::crate              |         
u0:20 | Module    | _m     | _c::_m                 |         
u0:21 | File      | main   | _c::_m::main           |         
u0:22 | Trait     | FnOnce | _c::_m::main::FnOnce   |         
u0:23 | Function  | foo_4  | _c::_m::main::foo_4    |         
u0:24 | Variable  | x      | _c::_m::main::foo_4::x |         

--- expect:symbol-deps ---
u0:22 <- [u0:23, u0:24]
u0:23 -> [u0:22]
u0:24 -> [u0:22]


===============================================================================
function-declarations-eight
===============================================================================


--- file: src/main.rs ---
fn foo_5(#[attr] x: i32, #[attr] y: i64) {}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                    | [global]
u0:2  | Primitive | i64   | i64                    | [global]
u0:3  | Primitive | i16   | i16                    | [global]
u0:4  | Primitive | i8    | i8                     | [global]
u0:5  | Primitive | i128  | i128                   | [global]
u0:6  | Primitive | isize | isize                  | [global]
u0:7  | Primitive | u32   | u32                    | [global]
u0:8  | Primitive | u64   | u64                    | [global]
u0:9  | Primitive | u16   | u16                    | [global]
u0:10 | Primitive | u8    | u8                     | [global]
u0:11 | Primitive | u128  | u128                   | [global]
u0:12 | Primitive | usize | usize                  | [global]
u0:13 | Primitive | f32   | f32                    | [global]
u0:14 | Primitive | f64   | f64                    | [global]
u0:15 | Primitive | bool  | bool                   | [global]
u0:16 | Primitive | char  | char                   | [global]
u0:17 | Primitive | str   | str                    | [global]
u0:18 | Crate     | _c    | _c                     | [global]
u0:19 | Crate     | crate | _c::crate              |         
u0:20 | Module    | _m    | _c::_m                 |         
u0:21 | File      | main  | _c::_m::main           |         
u0:22 | Function  | foo_5 | _c::_m::main::foo_5    |         
u0:23 | Variable  | x     | _c::_m::main::foo_5::x |         
u0:24 | Variable  | y     | _c::_m::main::foo_5::y |         

--- expect:symbol-deps ---
u0:1 <- [u0:22, u0:23]
u0:2 <- [u0:22, u0:24]
u0:22 -> [u0:1, u0:2]
u0:23 -> [u0:1]
u0:24 -> [u0:2]


===============================================================================
function-declarations-nine
===============================================================================


--- file: src/main.rs ---
struct Machine;
fn accumulate(self) -> Machine<{State::Accumulate}> {}

--- expect:symbols ---
u0:1  | Primitive | i32        | i32                      | [global]
u0:2  | Primitive | i64        | i64                      | [global]
u0:3  | Primitive | i16        | i16                      | [global]
u0:4  | Primitive | i8         | i8                       | [global]
u0:5  | Primitive | i128       | i128                     | [global]
u0:6  | Primitive | isize      | isize                    | [global]
u0:7  | Primitive | u32        | u32                      | [global]
u0:8  | Primitive | u64        | u64                      | [global]
u0:9  | Primitive | u16        | u16                      | [global]
u0:10 | Primitive | u8         | u8                       | [global]
u0:11 | Primitive | u128       | u128                     | [global]
u0:12 | Primitive | usize      | usize                    | [global]
u0:13 | Primitive | f32        | f32                      | [global]
u0:14 | Primitive | f64        | f64                      | [global]
u0:15 | Primitive | bool       | bool                     | [global]
u0:16 | Primitive | char       | char                     | [global]
u0:17 | Primitive | str        | str                      | [global]
u0:18 | Crate     | _c         | _c                       | [global]
u0:19 | Crate     | crate      | _c::crate                |         
u0:20 | Module    | _m         | _c::_m                   |         
u0:21 | File      | main       | _c::_m::main             |         
u0:22 | Struct    | Machine    | _c::_m::main::Machine    |         
u0:23 | Function  | accumulate | _c::_m::main::accumulate |         

--- expect:symbol-deps ---
u0:22 <- [u0:23]
u0:23 -> [u0:22]


===============================================================================
function-declarations-ten
===============================================================================


--- file: src/main.rs ---
struct Quux<'a> {
    data: &'a str,
}
trait Baz<T> {}
fn foo_6(bar: impl for<'a> Baz<Quux<'a>>) {}

--- expect:symbols ---
u0:1  | Primitive     | i32   | i32                      | [global]
u0:2  | Primitive     | i64   | i64                      | [global]
u0:3  | Primitive     | i16   | i16                      | [global]
u0:4  | Primitive     | i8    | i8                       | [global]
u0:5  | Primitive     | i128  | i128                     | [global]
u0:6  | Primitive     | isize | isize                    | [global]
u0:7  | Primitive     | u32   | u32                      | [global]
u0:8  | Primitive     | u64   | u64                      | [global]
u0:9  | Primitive     | u16   | u16                      | [global]
u0:10 | Primitive     | u8    | u8                       | [global]
u0:11 | Primitive     | u128  | u128                     | [global]
u0:12 | Primitive     | usize | usize                    | [global]
u0:13 | Primitive     | f32   | f32                      | [global]
u0:14 | Primitive     | f64   | f64                      | [global]
u0:15 | Primitive     | bool  | bool                     | [global]
u0:16 | Primitive     | char  | char                     | [global]
u0:17 | Primitive     | str   | str                      | [global]
u0:18 | Crate         | _c    | _c                       | [global]
u0:19 | Crate         | crate | _c::crate                |         
u0:20 | Module        | _m    | _c::_m                   |         
u0:21 | File          | main  | _c::_m::main             |         
u0:22 | Struct        | Quux  | _c::_m::main::Quux       |         
u0:23 | Field         | data  | _c::_m::main::Quux::data |         
u0:24 | Trait         | Baz   | _c::_m::main::Baz        |         
u0:25 | TypeParameter | T     | _c::_m::main::Baz::T     |         
u0:26 | Function      | foo_6 | _c::_m::main::foo_6      |         
u0:27 | Variable      | bar   | _c::_m::main::foo_6::bar |         

--- expect:symbol-deps ---
u0:17 <- [u0:22, u0:23]
u0:22 -> [u0:17]
u0:22 <- [u0:26, u0:27]
u0:23 -> [u0:17]
u0:24 <- [u0:26, u0:27]
u0:26 -> [u0:22, u0:24]
u0:27 -> [u0:22, u0:24]


===============================================================================
const-function-declarations
===============================================================================


--- file: src/main.rs ---
const fn main() {}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                | [global]
u0:2  | Primitive | i64   | i64                | [global]
u0:3  | Primitive | i16   | i16                | [global]
u0:4  | Primitive | i8    | i8                 | [global]
u0:5  | Primitive | i128  | i128               | [global]
u0:6  | Primitive | isize | isize              | [global]
u0:7  | Primitive | u32   | u32                | [global]
u0:8  | Primitive | u64   | u64                | [global]
u0:9  | Primitive | u16   | u16                | [global]
u0:10 | Primitive | u8    | u8                 | [global]
u0:11 | Primitive | u128  | u128               | [global]
u0:12 | Primitive | usize | usize              | [global]
u0:13 | Primitive | f32   | f32                | [global]
u0:14 | Primitive | f64   | f64                | [global]
u0:15 | Primitive | bool  | bool               | [global]
u0:16 | Primitive | char  | char               | [global]
u0:17 | Primitive | str   | str                | [global]
u0:18 | Crate     | _c    | _c                 | [global]
u0:19 | Crate     | crate | _c::crate          |
u0:20 | Module    | _m    | _c::_m             |
u0:21 | File      | main  | _c::_m::main       |
u0:22 | Function  | main  | _c::_m::main::main |

--- expect:symbol-deps ---


===============================================================================
functions-with-abstract-return-types
===============================================================================


--- file: src/main.rs ---
trait B {}

struct Foo;
struct Iterator;

fn triples(a: impl B) -> impl Iterator<Item=(Foo)> {
}

--- expect:symbols ---
u0:1  | Primitive | i32      | i32                      | [global]
u0:2  | Primitive | i64      | i64                      | [global]
u0:3  | Primitive | i16      | i16                      | [global]
u0:4  | Primitive | i8       | i8                       | [global]
u0:5  | Primitive | i128     | i128                     | [global]
u0:6  | Primitive | isize    | isize                    | [global]
u0:7  | Primitive | u32      | u32                      | [global]
u0:8  | Primitive | u64      | u64                      | [global]
u0:9  | Primitive | u16      | u16                      | [global]
u0:10 | Primitive | u8       | u8                       | [global]
u0:11 | Primitive | u128     | u128                     | [global]
u0:12 | Primitive | usize    | usize                    | [global]
u0:13 | Primitive | f32      | f32                      | [global]
u0:14 | Primitive | f64      | f64                      | [global]
u0:15 | Primitive | bool     | bool                     | [global]
u0:16 | Primitive | char     | char                     | [global]
u0:17 | Primitive | str      | str                      | [global]
u0:18 | Crate     | _c       | _c                       | [global]
u0:19 | Crate     | crate    | _c::crate                |
u0:20 | Module    | _m       | _c::_m                   |
u0:21 | File      | main     | _c::_m::main             |
u0:22 | Trait     | B        | _c::_m::main::B          |
u0:23 | Struct    | Foo      | _c::_m::main::Foo        |
u0:24 | Struct    | Iterator | _c::_m::main::Iterator   |
u0:25 | Function  | triples  | _c::_m::main::triples    |
u0:26 | Variable  | a        | _c::_m::main::triples::a |

--- expect:symbol-deps ---
u0:22 <- [u0:25, u0:26]
u0:23 <- [u0:25]
u0:24 <- [u0:25]
u0:25 -> [u0:22, u0:23, u0:24]
u0:26 -> [u0:22]


===============================================================================
impl-with-different-names
===============================================================================


--- file: src/main.rs ---
impl foo::Bar {  }
impl ::std::fmt::Display for Foo {  }
impl Self::Nested {  }

--- expect:symbols ---
u0:1  | Primitive      | i32                 | i32                               | [global]
u0:2  | Primitive      | i64                 | i64                               | [global]
u0:3  | Primitive      | i16                 | i16                               | [global]
u0:4  | Primitive      | i8                  | i8                                | [global]
u0:5  | Primitive      | i128                | i128                              | [global]
u0:6  | Primitive      | isize               | isize                             | [global]
u0:7  | Primitive      | u32                 | u32                               | [global]
u0:8  | Primitive      | u64                 | u64                               | [global]
u0:9  | Primitive      | u16                 | u16                               | [global]
u0:10 | Primitive      | u8                  | u8                                | [global]
u0:11 | Primitive      | u128                | u128                              | [global]
u0:12 | Primitive      | usize               | usize                             | [global]
u0:13 | Primitive      | f32                 | f32                               | [global]
u0:14 | Primitive      | f64                 | f64                               | [global]
u0:15 | Primitive      | bool                | bool                              | [global]
u0:16 | Primitive      | char                | char                              | [global]
u0:17 | Primitive      | str                 | str                               | [global]
u0:18 | Crate          | _c                  | _c                                | [global]
u0:19 | Crate          | crate               | _c::crate                         |         
u0:20 | Module         | _m                  | _c::_m                            |         
u0:21 | File           | main                | _c::_m::main                      |         
u0:22 | UnresolvedType | foo::Bar            | _c::_m::main::foo::Bar            |         
u0:23 | UnresolvedType | ::std::fmt::Display | _c::_m::main::::std::fmt::Display |         
u0:24 | UnresolvedType | Foo                 | _c::_m::main::Foo                 |         
u0:25 | UnresolvedType | Self::Nested        | _c::_m::main::Self::Nested        |         

--- expect:symbol-deps ---


===============================================================================
impl-with-lifetimes-first
===============================================================================


--- file: src/main.rs ---
fn foo<'a>(x: impl 'a + Clone) {}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                  | [global]
u0:2  | Primitive | i64   | i64                  | [global]
u0:3  | Primitive | i16   | i16                  | [global]
u0:4  | Primitive | i8    | i8                   | [global]
u0:5  | Primitive | i128  | i128                 | [global]
u0:6  | Primitive | isize | isize                | [global]
u0:7  | Primitive | u32   | u32                  | [global]
u0:8  | Primitive | u64   | u64                  | [global]
u0:9  | Primitive | u16   | u16                  | [global]
u0:10 | Primitive | u8    | u8                   | [global]
u0:11 | Primitive | u128  | u128                 | [global]
u0:12 | Primitive | usize | usize                | [global]
u0:13 | Primitive | f32   | f32                  | [global]
u0:14 | Primitive | f64   | f64                  | [global]
u0:15 | Primitive | bool  | bool                 | [global]
u0:16 | Primitive | char  | char                 | [global]
u0:17 | Primitive | str   | str                  | [global]
u0:18 | Crate     | _c    | _c                   | [global]
u0:19 | Crate     | crate | _c::crate            |
u0:20 | Module    | _m    | _c::_m               |
u0:21 | File      | main  | _c::_m::main         |
u0:22 | Function  | foo   | _c::_m::main::foo    |
u0:23 | Variable  | x     | _c::_m::main::foo::x |

--- expect:symbol-deps ---


===============================================================================
functions-with-precise-capture-syntax
===============================================================================


--- file: src/main.rs ---
fn capture<T>(&self) -> impl Iterator<Item = usize> + use<'_, T> {
}

--- expect:symbols ---
u0:1  | Primitive     | i32     | i32                      | [global]
u0:2  | Primitive     | i64     | i64                      | [global]
u0:3  | Primitive     | i16     | i16                      | [global]
u0:4  | Primitive     | i8      | i8                       | [global]
u0:5  | Primitive     | i128    | i128                     | [global]
u0:6  | Primitive     | isize   | isize                    | [global]
u0:7  | Primitive     | u32     | u32                      | [global]
u0:8  | Primitive     | u64     | u64                      | [global]
u0:9  | Primitive     | u16     | u16                      | [global]
u0:10 | Primitive     | u8      | u8                       | [global]
u0:11 | Primitive     | u128    | u128                     | [global]
u0:12 | Primitive     | usize   | usize                    | [global]
u0:13 | Primitive     | f32     | f32                      | [global]
u0:14 | Primitive     | f64     | f64                      | [global]
u0:15 | Primitive     | bool    | bool                     | [global]
u0:16 | Primitive     | char    | char                     | [global]
u0:17 | Primitive     | str     | str                      | [global]
u0:18 | Crate         | _c      | _c                       | [global]
u0:19 | Crate         | crate   | _c::crate                |
u0:20 | Module        | _m      | _c::_m                   |
u0:21 | File          | main    | _c::_m::main             |
u0:22 | Function      | capture | _c::_m::main::capture    |
u0:23 | TypeParameter | T       | _c::_m::main::capture::T |

--- expect:symbol-deps ---
u0:12 <- [u0:22]
u0:22 -> [u0:12]


===============================================================================
functions-with-empty-precise-capture-syntax
===============================================================================


--- file: src/main.rs ---
fn capture(&self) -> impl Iterator<Item = usize> + use<> {
}

--- expect:symbols ---
u0:1  | Primitive | i32     | i32                   | [global]
u0:2  | Primitive | i64     | i64                   | [global]
u0:3  | Primitive | i16     | i16                   | [global]
u0:4  | Primitive | i8      | i8                    | [global]
u0:5  | Primitive | i128    | i128                  | [global]
u0:6  | Primitive | isize   | isize                 | [global]
u0:7  | Primitive | u32     | u32                   | [global]
u0:8  | Primitive | u64     | u64                   | [global]
u0:9  | Primitive | u16     | u16                   | [global]
u0:10 | Primitive | u8      | u8                    | [global]
u0:11 | Primitive | u128    | u128                  | [global]
u0:12 | Primitive | usize   | usize                 | [global]
u0:13 | Primitive | f32     | f32                   | [global]
u0:14 | Primitive | f64     | f64                   | [global]
u0:15 | Primitive | bool    | bool                  | [global]
u0:16 | Primitive | char    | char                  | [global]
u0:17 | Primitive | str     | str                   | [global]
u0:18 | Crate     | _c      | _c                    | [global]
u0:19 | Crate     | crate   | _c::crate             |
u0:20 | Module    | _m      | _c::_m                |
u0:21 | File      | main    | _c::_m::main          |
u0:22 | Function  | capture | _c::_m::main::capture |

--- expect:symbol-deps ---
u0:12 <- [u0:22]
u0:22 -> [u0:12]


===============================================================================
diverging-functions
===============================================================================


--- file: src/main.rs ---
fn aborts() -> ! {}

--- expect:symbols ---
u0:1  | Primitive | i32    | i32                  | [global]
u0:2  | Primitive | i64    | i64                  | [global]
u0:3  | Primitive | i16    | i16                  | [global]
u0:4  | Primitive | i8     | i8                   | [global]
u0:5  | Primitive | i128   | i128                 | [global]
u0:6  | Primitive | isize  | isize                | [global]
u0:7  | Primitive | u32    | u32                  | [global]
u0:8  | Primitive | u64    | u64                  | [global]
u0:9  | Primitive | u16    | u16                  | [global]
u0:10 | Primitive | u8     | u8                   | [global]
u0:11 | Primitive | u128   | u128                 | [global]
u0:12 | Primitive | usize  | usize                | [global]
u0:13 | Primitive | f32    | f32                  | [global]
u0:14 | Primitive | f64    | f64                  | [global]
u0:15 | Primitive | bool   | bool                 | [global]
u0:16 | Primitive | char   | char                 | [global]
u0:17 | Primitive | str    | str                  | [global]
u0:18 | Crate     | _c     | _c                   | [global]
u0:19 | Crate     | crate  | _c::crate            |
u0:20 | Module    | _m     | _c::_m               |
u0:21 | File      | main   | _c::_m::main         |
u0:22 | Function  | aborts | _c::_m::main::aborts |

--- expect:symbol-deps ---


===============================================================================
extern-function-declarations
===============================================================================


--- file: src/main.rs ---
extern "C" fn foo() {}
extern "C" fn printf(*const c_char, ...,) {}

pub unsafe extern "C" fn c_variadic_no_use(fmt: *const i8, mut ap: ...) -> i32 {
    // CHECK: call void @llvm.va_start
    vprintf(fmt, ap.as_va_list())
    // CHECK: call void @llvm.va_end
}

--- expect:symbols ---
u0:1  | Primitive | i32               | i32                                  | [global]
u0:2  | Primitive | i64               | i64                                  | [global]
u0:3  | Primitive | i16               | i16                                  | [global]
u0:4  | Primitive | i8                | i8                                   | [global]
u0:5  | Primitive | i128              | i128                                 | [global]
u0:6  | Primitive | isize             | isize                                | [global]
u0:7  | Primitive | u32               | u32                                  | [global]
u0:8  | Primitive | u64               | u64                                  | [global]
u0:9  | Primitive | u16               | u16                                  | [global]
u0:10 | Primitive | u8                | u8                                   | [global]
u0:11 | Primitive | u128              | u128                                 | [global]
u0:12 | Primitive | usize             | usize                                | [global]
u0:13 | Primitive | f32               | f32                                  | [global]
u0:14 | Primitive | f64               | f64                                  | [global]
u0:15 | Primitive | bool              | bool                                 | [global]
u0:16 | Primitive | char              | char                                 | [global]
u0:17 | Primitive | str               | str                                  | [global]
u0:18 | Crate     | _c                | _c                                   | [global]
u0:19 | Crate     | crate             | _c::crate                            |
u0:20 | Module    | _m                | _c::_m                               |
u0:21 | File      | main              | _c::_m::main                         |
u0:22 | Function  | foo               | _c::_m::main::foo                    |
u0:23 | Function  | printf            | _c::_m::main::printf                 |
u0:24 | Function  | c_variadic_no_use | _c::_m::main::c_variadic_no_use      |
u0:25 | Variable  | fmt               | _c::_m::main::c_variadic_no_use::fmt |

--- expect:symbol-deps ---
u0:1 <- [u0:24]
u0:24 -> [u0:1, u0:4]
u0:25 -> [u0:4]
u0:4 <- [u0:24, u0:25]


===============================================================================
use-declarations
===============================================================================


--- file: src/main.rs ---
use abc;
use phrases::japanese;
use sayings::english::greetings;
use sayings::english::greetings as en_greetings ;
use phrases::english::{greetings,farewells};
use sayings::japanese::farewells::*;
pub use self::greetings::hello;
use sayings::english::{self, greetings as en_greetings, farewells as en_farewells};
use three::{ dot::{one, four} };
use my::{ some::* };
use my::{*};
use ::*;

--- expect:symbols ---
u0:1  | Primitive | i32   | i32          | [global]
u0:2  | Primitive | i64   | i64          | [global]
u0:3  | Primitive | i16   | i16          | [global]
u0:4  | Primitive | i8    | i8           | [global]
u0:5  | Primitive | i128  | i128         | [global]
u0:6  | Primitive | isize | isize        | [global]
u0:7  | Primitive | u32   | u32          | [global]
u0:8  | Primitive | u64   | u64          | [global]
u0:9  | Primitive | u16   | u16          | [global]
u0:10 | Primitive | u8    | u8           | [global]
u0:11 | Primitive | u128  | u128         | [global]
u0:12 | Primitive | usize | usize        | [global]
u0:13 | Primitive | f32   | f32          | [global]
u0:14 | Primitive | f64   | f64          | [global]
u0:15 | Primitive | bool  | bool         | [global]
u0:16 | Primitive | char  | char         | [global]
u0:17 | Primitive | str   | str          | [global]
u0:18 | Crate     | _c    | _c           | [global]
u0:19 | Crate     | crate | _c::crate    |
u0:20 | Module    | _m    | _c::_m       |
u0:21 | File      | main  | _c::_m::main |

--- expect:symbol-deps ---


===============================================================================
variable-bindings
===============================================================================


--- file: src/main.rs ---
let x;
let x = 42;
let x: i32;
let x: i8 = 42;
let mut x = 5;
let y: bool = false;
let bool: bool = false;
let u32: str = "";

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                | [global]
u0:2  | Primitive | i64   | i64                | [global]
u0:3  | Primitive | i16   | i16                | [global]
u0:4  | Primitive | i8    | i8                 | [global]
u0:5  | Primitive | i128  | i128               | [global]
u0:6  | Primitive | isize | isize              | [global]
u0:7  | Primitive | u32   | u32                | [global]
u0:8  | Primitive | u64   | u64                | [global]
u0:9  | Primitive | u16   | u16                | [global]
u0:10 | Primitive | u8    | u8                 | [global]
u0:11 | Primitive | u128  | u128               | [global]
u0:12 | Primitive | usize | usize              | [global]
u0:13 | Primitive | f32   | f32                | [global]
u0:14 | Primitive | f64   | f64                | [global]
u0:15 | Primitive | bool  | bool               | [global]
u0:16 | Primitive | char  | char               | [global]
u0:17 | Primitive | str   | str                | [global]
u0:18 | Crate     | _c    | _c                 | [global]
u0:19 | Crate     | crate | _c::crate          |
u0:20 | Module    | _m    | _c::_m             |
u0:21 | File      | main  | _c::_m::main       |
u0:22 | Variable  | x     | _c::_m::main::x    |
u0:23 | Variable  | x     | _c::_m::main::x    |
u0:24 | Variable  | x     | _c::_m::main::x    |
u0:25 | Variable  | x     | _c::_m::main::x    |
u0:26 | Variable  | x     | _c::_m::main::x    |
u0:27 | Variable  | y     | _c::_m::main::y    |
u0:28 | Variable  | bool  | _c::_m::main::bool |
u0:29 | Variable  | u32   | _c::_m::main::u32  |

--- expect:symbol-deps ---
u0:1 <- [u0:23, u0:24, u0:26]
u0:15 <- [u0:27, u0:28]
u0:17 <- [u0:29]
u0:23 -> [u0:1]
u0:24 -> [u0:1]
u0:25 -> [u0:4]
u0:26 -> [u0:1]
u0:27 -> [u0:15]
u0:28 -> [u0:15]
u0:29 -> [u0:17]
u0:4 <- [u0:25]


===============================================================================
function-variable-bindings
===============================================================================


--- file: src/main.rs ---
struct Baz;
struct Foo;

fn func() {
    let x: Foo = Foo::new();
    let mut y = Baz::new();
}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                   | [global]
u0:2  | Primitive | i64   | i64                   | [global]
u0:3  | Primitive | i16   | i16                   | [global]
u0:4  | Primitive | i8    | i8                    | [global]
u0:5  | Primitive | i128  | i128                  | [global]
u0:6  | Primitive | isize | isize                 | [global]
u0:7  | Primitive | u32   | u32                   | [global]
u0:8  | Primitive | u64   | u64                   | [global]
u0:9  | Primitive | u16   | u16                   | [global]
u0:10 | Primitive | u8    | u8                    | [global]
u0:11 | Primitive | u128  | u128                  | [global]
u0:12 | Primitive | usize | usize                 | [global]
u0:13 | Primitive | f32   | f32                   | [global]
u0:14 | Primitive | f64   | f64                   | [global]
u0:15 | Primitive | bool  | bool                  | [global]
u0:16 | Primitive | char  | char                  | [global]
u0:17 | Primitive | str   | str                   | [global]
u0:18 | Crate     | _c    | _c                    | [global]
u0:19 | Crate     | crate | _c::crate             |
u0:20 | Module    | _m    | _c::_m                |
u0:21 | File      | main  | _c::_m::main          |
u0:22 | Struct    | Baz   | _c::_m::main::Baz     |
u0:23 | Struct    | Foo   | _c::_m::main::Foo     |
u0:24 | Function  | func  | _c::_m::main::func    |
u0:25 | Variable  | x     | _c::_m::main::func::x |
u0:26 | Variable  | y     | _c::_m::main::func::y |

--- expect:symbol-deps ---
u0:22 <- [u0:24]
u0:23 <- [u0:24, u0:25]
u0:24 -> [u0:22, u0:23]
u0:25 -> [u0:23]


===============================================================================
let-else-statements
===============================================================================


--- file: src/main.rs ---
struct Boo;

mod Foo {
    struct Bar {
        texts: u16,
        values: Boo,
    }
}
struct Baz;

fn func() {
    let y = Baz::new();
    let x = Foo::Bar{texts: 5, values: Boo::new()};
    let Foo::Bar{texts, values} = x;
}

--- expect:symbols ---
u0:1  | Primitive | i32    | i32                            | [global]
u0:2  | Primitive | i64    | i64                            | [global]
u0:3  | Primitive | i16    | i16                            | [global]
u0:4  | Primitive | i8     | i8                             | [global]
u0:5  | Primitive | i128   | i128                           | [global]
u0:6  | Primitive | isize  | isize                          | [global]
u0:7  | Primitive | u32    | u32                            | [global]
u0:8  | Primitive | u64    | u64                            | [global]
u0:9  | Primitive | u16    | u16                            | [global]
u0:10 | Primitive | u8     | u8                             | [global]
u0:11 | Primitive | u128   | u128                           | [global]
u0:12 | Primitive | usize  | usize                          | [global]
u0:13 | Primitive | f32    | f32                            | [global]
u0:14 | Primitive | f64    | f64                            | [global]
u0:15 | Primitive | bool   | bool                           | [global]
u0:16 | Primitive | char   | char                           | [global]
u0:17 | Primitive | str    | str                            | [global]
u0:18 | Crate     | _c     | _c                             | [global]
u0:19 | Crate     | crate  | _c::crate                      |
u0:20 | Module    | _m     | _c::_m                         |
u0:21 | File      | main   | _c::_m::main                   |
u0:22 | Struct    | Boo    | _c::_m::main::Boo              |
u0:23 | Namespace | Foo    | _c::_m::main::Foo              |
u0:24 | Struct    | Bar    | _c::_m::main::Foo::Bar         |
u0:25 | Field     | texts  | _c::_m::main::Foo::Bar::texts  |
u0:26 | Field     | values | _c::_m::main::Foo::Bar::values |
u0:27 | Struct    | Baz    | _c::_m::main::Baz              |
u0:28 | Function  | func   | _c::_m::main::func             |
u0:29 | Variable  | y      | _c::_m::main::func::y          |
u0:30 | Variable  | x      | _c::_m::main::func::x          |
u0:31 | Variable  | texts  | _c::_m::main::func::texts      |
u0:32 | Variable  | values | _c::_m::main::func::values     |

--- expect:symbol-deps ---
u0:22 <- [u0:24, u0:26, u0:28]
u0:23 -> [u0:24]
u0:24 -> [u0:22, u0:9]
u0:24 <- [u0:23]
u0:25 -> [u0:9]
u0:26 -> [u0:22]
u0:27 <- [u0:28]
u0:28 -> [u0:22, u0:27]
u0:9 <- [u0:24, u0:25]


===============================================================================
let-declarations-with-if-expressions-as-the-value
===============================================================================


--- file: src/main.rs ---
let a = if b {
    c
} else {
    d
};

--- expect:symbols ---
u0:1  | Primitive | i32   | i32             | [global]
u0:2  | Primitive | i64   | i64             | [global]
u0:3  | Primitive | i16   | i16             | [global]
u0:4  | Primitive | i8    | i8              | [global]
u0:5  | Primitive | i128  | i128            | [global]
u0:6  | Primitive | isize | isize           | [global]
u0:7  | Primitive | u32   | u32             | [global]
u0:8  | Primitive | u64   | u64             | [global]
u0:9  | Primitive | u16   | u16             | [global]
u0:10 | Primitive | u8    | u8              | [global]
u0:11 | Primitive | u128  | u128            | [global]
u0:12 | Primitive | usize | usize           | [global]
u0:13 | Primitive | f32   | f32             | [global]
u0:14 | Primitive | f64   | f64             | [global]
u0:15 | Primitive | bool  | bool            | [global]
u0:16 | Primitive | char  | char            | [global]
u0:17 | Primitive | str   | str             | [global]
u0:18 | Crate     | _c    | _c              | [global]
u0:19 | Crate     | crate | _c::crate       |
u0:20 | Module    | _m    | _c::_m          |
u0:21 | File      | main  | _c::_m::main    |
u0:22 | Variable  | a     | _c::_m::main::a |

--- expect:symbol-deps ---


===============================================================================
let-declarations-with-contextual-keywords-as-names
===============================================================================


--- file: src/main.rs ---
let default = 1;
let union = 2;

--- expect:symbols ---
u0:1  | Primitive | i32     | i32                   | [global]
u0:2  | Primitive | i64     | i64                   | [global]
u0:3  | Primitive | i16     | i16                   | [global]
u0:4  | Primitive | i8      | i8                    | [global]
u0:5  | Primitive | i128    | i128                  | [global]
u0:6  | Primitive | isize   | isize                 | [global]
u0:7  | Primitive | u32     | u32                   | [global]
u0:8  | Primitive | u64     | u64                   | [global]
u0:9  | Primitive | u16     | u16                   | [global]
u0:10 | Primitive | u8      | u8                    | [global]
u0:11 | Primitive | u128    | u128                  | [global]
u0:12 | Primitive | usize   | usize                 | [global]
u0:13 | Primitive | f32     | f32                   | [global]
u0:14 | Primitive | f64     | f64                   | [global]
u0:15 | Primitive | bool    | bool                  | [global]
u0:16 | Primitive | char    | char                  | [global]
u0:17 | Primitive | str     | str                   | [global]
u0:18 | Crate     | _c      | _c                    | [global]
u0:19 | Crate     | crate   | _c::crate             |
u0:20 | Module    | _m      | _c::_m                |
u0:21 | File      | main    | _c::_m::main          |
u0:22 | Variable  | default | _c::_m::main::default |
u0:23 | Variable  | union   | _c::_m::main::union   |

--- expect:symbol-deps ---
u0:1 <- [u0:22, u0:23]
u0:22 -> [u0:1]
u0:23 -> [u0:1]


===============================================================================
structs
===============================================================================


--- file: src/main.rs ---
struct Proton;
struct Electron {}
struct Person {pub name: String, pub age: u32}
struct Point {
  x: i32,

  #[attribute1]
  y: i32,
}
struct Color(pub i32, i32, i32);
struct Inches(i32);
struct Empty(pub ());

--- expect:symbols ---
u0:1  | Primitive | i32      | i32                        | [global]
u0:2  | Primitive | i64      | i64                        | [global]
u0:3  | Primitive | i16      | i16                        | [global]
u0:4  | Primitive | i8       | i8                         | [global]
u0:5  | Primitive | i128     | i128                       | [global]
u0:6  | Primitive | isize    | isize                      | [global]
u0:7  | Primitive | u32      | u32                        | [global]
u0:8  | Primitive | u64      | u64                        | [global]
u0:9  | Primitive | u16      | u16                        | [global]
u0:10 | Primitive | u8       | u8                         | [global]
u0:11 | Primitive | u128     | u128                       | [global]
u0:12 | Primitive | usize    | usize                      | [global]
u0:13 | Primitive | f32      | f32                        | [global]
u0:14 | Primitive | f64      | f64                        | [global]
u0:15 | Primitive | bool     | bool                       | [global]
u0:16 | Primitive | char     | char                       | [global]
u0:17 | Primitive | str      | str                        | [global]
u0:18 | Crate     | _c       | _c                         | [global]
u0:19 | Crate     | crate    | _c::crate                  |
u0:20 | Module    | _m       | _c::_m                     |
u0:21 | File      | main     | _c::_m::main               |
u0:22 | Struct    | Proton   | _c::_m::main::Proton       |
u0:23 | Struct    | Electron | _c::_m::main::Electron     |
u0:24 | Struct    | Person   | _c::_m::main::Person       |
u0:25 | Field     | name     | _c::_m::main::Person::name |
u0:26 | Field     | age      | _c::_m::main::Person::age  |
u0:27 | Struct    | Point    | _c::_m::main::Point        |
u0:28 | Field     | x        | _c::_m::main::Point::x     |
u0:29 | Field     | y        | _c::_m::main::Point::y     |
u0:30 | Struct    | Color    | _c::_m::main::Color        |
u0:31 | Struct    | Inches   | _c::_m::main::Inches       |
u0:32 | Struct    | Empty    | _c::_m::main::Empty        |

--- expect:symbol-deps ---
u0:1 <- [u0:27, u0:28, u0:29, u0:30, u0:31]
u0:24 -> [u0:7]
u0:26 -> [u0:7]
u0:27 -> [u0:1]
u0:28 -> [u0:1]
u0:29 -> [u0:1]
u0:30 -> [u0:1]
u0:31 -> [u0:1]
u0:7 <- [u0:24, u0:26]


===============================================================================
unions
===============================================================================


--- file: src/main.rs ---
pub union in6_addr__bindgen_ty_1 {
    pub __u6_addr8: [__uint8_t; 16usize],
    pub __u6_addr16: [__uint16_t; 8usize],
    pub __u6_addr32: [__uint32_t; 4usize],
    _bindgen_union_align: [u32; 4usize],
}

--- expect:symbols ---
u0:1  | Primitive | i32                  | i32                                | [global]
u0:2  | Primitive | i64                  | i64                                | [global]
u0:3  | Primitive | i16                  | i16                                | [global]
u0:4  | Primitive | i8                   | i8                                 | [global]
u0:5  | Primitive | i128                 | i128                               | [global]
u0:6  | Primitive | isize                | isize                              | [global]
u0:7  | Primitive | u32                  | u32                                | [global]
u0:8  | Primitive | u64                  | u64                                | [global]
u0:9  | Primitive | u16                  | u16                                | [global]
u0:10 | Primitive | u8                   | u8                                 | [global]
u0:11 | Primitive | u128                 | u128                               | [global]
u0:12 | Primitive | usize                | usize                              | [global]
u0:13 | Primitive | f32                  | f32                                | [global]
u0:14 | Primitive | f64                  | f64                                | [global]
u0:15 | Primitive | bool                 | bool                               | [global]
u0:16 | Primitive | char                 | char                               | [global]
u0:17 | Primitive | str                  | str                                | [global]
u0:18 | Crate     | _c                   | _c                                 | [global]
u0:19 | Crate     | crate                | _c::crate                          |
u0:20 | Module    | _m                   | _c::_m                             |
u0:21 | File      | main                 | _c::_m::main                       |
u0:22 | Field     | __u6_addr8           | _c::_m::main::__u6_addr8           |
u0:23 | Field     | __u6_addr16          | _c::_m::main::__u6_addr16          |
u0:24 | Field     | __u6_addr32          | _c::_m::main::__u6_addr32          |
u0:25 | Field     | _bindgen_union_align | _c::_m::main::_bindgen_union_align |

--- expect:symbol-deps ---
u0:1 <- [u0:22, u0:23, u0:24]
u0:22 -> [u0:1]
u0:23 -> [u0:1]
u0:24 -> [u0:1]
u0:25 -> [u0:7]
u0:7 <- [u0:25]


===============================================================================
generic-structs
===============================================================================


--- file: src/main.rs ---
struct A<B> {}
struct C<'a, 'b> {}
struct C<'a,> {}
struct D<const SIZE: usize> {}
struct E<#[attr] T> {}
trait F {}
trait G {}
struct H<T: F> {}
struct I<U> where U: F + G {}

--- expect:symbols ---
u0:1  | Primitive     | i32   | i32                | [global]
u0:2  | Primitive     | i64   | i64                | [global]
u0:3  | Primitive     | i16   | i16                | [global]
u0:4  | Primitive     | i8    | i8                 | [global]
u0:5  | Primitive     | i128  | i128               | [global]
u0:6  | Primitive     | isize | isize              | [global]
u0:7  | Primitive     | u32   | u32                | [global]
u0:8  | Primitive     | u64   | u64                | [global]
u0:9  | Primitive     | u16   | u16                | [global]
u0:10 | Primitive     | u8    | u8                 | [global]
u0:11 | Primitive     | u128  | u128               | [global]
u0:12 | Primitive     | usize | usize              | [global]
u0:13 | Primitive     | f32   | f32                | [global]
u0:14 | Primitive     | f64   | f64                | [global]
u0:15 | Primitive     | bool  | bool               | [global]
u0:16 | Primitive     | char  | char               | [global]
u0:17 | Primitive     | str   | str                | [global]
u0:18 | Crate         | _c    | _c                 | [global]
u0:19 | Crate         | crate | _c::crate          |         
u0:20 | Module        | _m    | _c::_m             |         
u0:21 | File          | main  | _c::_m::main       |         
u0:22 | Struct        | A     | _c::_m::main::A    |         
u0:23 | TypeParameter | B     | _c::_m::main::A::B |         
u0:24 | Struct        | C     | _c::_m::main::C    |         
u0:25 | Struct        | D     | _c::_m::main::D    |         
u0:26 | Struct        | E     | _c::_m::main::E    |         
u0:27 | TypeParameter | T     | _c::_m::main::E::T |         
u0:28 | Trait         | F     | _c::_m::main::F    |         
u0:29 | Trait         | G     | _c::_m::main::G    |         
u0:30 | Struct        | H     | _c::_m::main::H    |         
u0:31 | TypeParameter | T     | _c::_m::main::H::T |         
u0:32 | Struct        | I     | _c::_m::main::I    |         
u0:33 | TypeParameter | U     | _c::_m::main::I::U |         

--- expect:symbol-deps ---
u0:12 <- [u0:25]
u0:25 -> [u0:12]


===============================================================================
enums-basic
===============================================================================


--- file: src/main.rs ---
struct Tree;
struct Item;

pub enum Option<T> {
    None,
    Some(T),
}

pub enum Node<T: Item> {
    Internal {
        children: Vec<Tree<T>>,
        height: u16
    },
    #[attribute1]
    #[attribute2]
    Leaf {
        value: T
    }
}

--- expect:symbols ---
u0:1  | Primitive     | i32      | i32                                    | [global]
u0:2  | Primitive     | i64      | i64                                    | [global]
u0:3  | Primitive     | i16      | i16                                    | [global]
u0:4  | Primitive     | i8       | i8                                     | [global]
u0:5  | Primitive     | i128     | i128                                   | [global]
u0:6  | Primitive     | isize    | isize                                  | [global]
u0:7  | Primitive     | u32      | u32                                    | [global]
u0:8  | Primitive     | u64      | u64                                    | [global]
u0:9  | Primitive     | u16      | u16                                    | [global]
u0:10 | Primitive     | u8       | u8                                     | [global]
u0:11 | Primitive     | u128     | u128                                   | [global]
u0:12 | Primitive     | usize    | usize                                  | [global]
u0:13 | Primitive     | f32      | f32                                    | [global]
u0:14 | Primitive     | f64      | f64                                    | [global]
u0:15 | Primitive     | bool     | bool                                   | [global]
u0:16 | Primitive     | char     | char                                   | [global]
u0:17 | Primitive     | str      | str                                    | [global]
u0:18 | Crate         | _c       | _c                                     | [global]
u0:19 | Crate         | crate    | _c::crate                              |
u0:20 | Module        | _m       | _c::_m                                 |
u0:21 | File          | main     | _c::_m::main                           |
u0:22 | Struct        | Tree     | _c::_m::main::Tree                     |
u0:23 | Struct        | Item     | _c::_m::main::Item                     |
u0:24 | Enum          | Option   | _c::_m::main::Option                   |
u0:25 | TypeParameter | T        | _c::_m::main::Option::T                |
u0:26 | EnumVariant   | None     | _c::_m::main::Option::None             |
u0:27 | EnumVariant   | Some     | _c::_m::main::Option::Some             |
u0:28 | Enum          | Node     | _c::_m::main::Node                     |
u0:29 | TypeParameter | T        | _c::_m::main::Node::T                  |
u0:30 | EnumVariant   | Internal | _c::_m::main::Node::Internal           |
u0:31 | Field         | children | _c::_m::main::Node::Internal::children |
u0:32 | Field         | height   | _c::_m::main::Node::Internal::height   |
u0:33 | EnumVariant   | Leaf     | _c::_m::main::Node::Leaf               |
u0:34 | Field         | value    | _c::_m::main::Node::Leaf::value        |

--- expect:symbol-deps ---
u0:22 <- [u0:28, u0:30, u0:31]
u0:24 -> [u0:25]
u0:25 <- [u0:24]
u0:28 -> [u0:22, u0:29, u0:9]
u0:29 <- [u0:28, u0:30, u0:31, u0:33, u0:34]
u0:30 -> [u0:22, u0:29, u0:9]
u0:31 -> [u0:22, u0:29]
u0:32 -> [u0:9]
u0:33 -> [u0:29]
u0:34 -> [u0:29]
u0:9 <- [u0:28, u0:30, u0:32]

--- expect:blocks ---
u0:1 | root  | main
u0:2 | class | Tree
u0:3 | class | Item
u0:4 | enum  | Option
u0:5 | enum  | Node
u0:6 | field | block#6
u0:7 | field | block#7
u0:8 | field | block#8

--- expect:block-deps ---
u0:2 <- [u0:5]
u0:5 -> [u0:2]


===============================================================================
enums-with-values-specified
===============================================================================


--- file: src/main.rs ---
pub enum c_style_enum {
    val1 = 1,
    val2 = 2
}

--- expect:symbols ---
u0:1  | Primitive   | i32          | i32                              | [global]
u0:2  | Primitive   | i64          | i64                              | [global]
u0:3  | Primitive   | i16          | i16                              | [global]
u0:4  | Primitive   | i8           | i8                               | [global]
u0:5  | Primitive   | i128         | i128                             | [global]
u0:6  | Primitive   | isize        | isize                            | [global]
u0:7  | Primitive   | u32          | u32                              | [global]
u0:8  | Primitive   | u64          | u64                              | [global]
u0:9  | Primitive   | u16          | u16                              | [global]
u0:10 | Primitive   | u8           | u8                               | [global]
u0:11 | Primitive   | u128         | u128                             | [global]
u0:12 | Primitive   | usize        | usize                            | [global]
u0:13 | Primitive   | f32          | f32                              | [global]
u0:14 | Primitive   | f64          | f64                              | [global]
u0:15 | Primitive   | bool         | bool                             | [global]
u0:16 | Primitive   | char         | char                             | [global]
u0:17 | Primitive   | str          | str                              | [global]
u0:18 | Crate       | _c           | _c                               | [global]
u0:19 | Crate       | crate        | _c::crate                        |
u0:20 | Module      | _m           | _c::_m                           |
u0:21 | File        | main         | _c::_m::main                     |
u0:22 | Enum        | c_style_enum | _c::_m::main::c_style_enum       |
u0:23 | EnumVariant | val1         | _c::_m::main::c_style_enum::val1 |
u0:24 | EnumVariant | val2         | _c::_m::main::c_style_enum::val2 |

--- expect:symbol-deps ---
u0:1 <- [u0:22, u0:23, u0:24]
u0:22 -> [u0:1]
u0:23 -> [u0:1]
u0:24 -> [u0:1]


===============================================================================
generic-functions-one
===============================================================================


--- file: src/main.rs ---
struct Text;

pub fn splice<T: Into<Text>>(&mut self, old_range: Range<usize>, new_text: T) {
}
pub fn uninit_array<const LEN: usize>() -> [Self; LEN] {}

--- expect:symbols ---
u0:1  | Primitive     | i32          | i32                             | [global]
u0:2  | Primitive     | i64          | i64                             | [global]
u0:3  | Primitive     | i16          | i16                             | [global]
u0:4  | Primitive     | i8           | i8                              | [global]
u0:5  | Primitive     | i128         | i128                            | [global]
u0:6  | Primitive     | isize        | isize                           | [global]
u0:7  | Primitive     | u32          | u32                             | [global]
u0:8  | Primitive     | u64          | u64                             | [global]
u0:9  | Primitive     | u16          | u16                             | [global]
u0:10 | Primitive     | u8           | u8                              | [global]
u0:11 | Primitive     | u128         | u128                            | [global]
u0:12 | Primitive     | usize        | usize                           | [global]
u0:13 | Primitive     | f32          | f32                             | [global]
u0:14 | Primitive     | f64          | f64                             | [global]
u0:15 | Primitive     | bool         | bool                            | [global]
u0:16 | Primitive     | char         | char                            | [global]
u0:17 | Primitive     | str          | str                             | [global]
u0:18 | Crate         | _c           | _c                              | [global]
u0:19 | Crate         | crate        | _c::crate                       |         
u0:20 | Module        | _m           | _c::_m                          |         
u0:21 | File          | main         | _c::_m::main                    |         
u0:22 | Struct        | Text         | _c::_m::main::Text              |         
u0:23 | Function      | splice       | _c::_m::main::splice            |         
u0:24 | TypeParameter | T            | _c::_m::main::splice::T         |         
u0:25 | Variable      | old_range    | _c::_m::main::splice::old_range |         
u0:26 | Variable      | new_text     | _c::_m::main::splice::new_text  |         
u0:27 | Function      | uninit_array | _c::_m::main::uninit_array      |         

--- expect:symbol-deps ---
u0:12 <- [u0:23, u0:27]
u0:23 -> [u0:12, u0:24]
u0:24 <- [u0:23, u0:26]
u0:26 -> [u0:24]
u0:27 -> [u0:12]

--- expect:blocks ---
u0:1 | root  | main
u0:2 | class | Text
u0:3 | func  | splice
u0:4 | func  | uninit_array

--- expect:block-deps ---


===============================================================================
functions-with-mutable-parameters
===============================================================================


--- file: src/main.rs ---
fn foo(mut x : u32) {
}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                  | [global]
u0:2  | Primitive | i64   | i64                  | [global]
u0:3  | Primitive | i16   | i16                  | [global]
u0:4  | Primitive | i8    | i8                   | [global]
u0:5  | Primitive | i128  | i128                 | [global]
u0:6  | Primitive | isize | isize                | [global]
u0:7  | Primitive | u32   | u32                  | [global]
u0:8  | Primitive | u64   | u64                  | [global]
u0:9  | Primitive | u16   | u16                  | [global]
u0:10 | Primitive | u8    | u8                   | [global]
u0:11 | Primitive | u128  | u128                 | [global]
u0:12 | Primitive | usize | usize                | [global]
u0:13 | Primitive | f32   | f32                  | [global]
u0:14 | Primitive | f64   | f64                  | [global]
u0:15 | Primitive | bool  | bool                 | [global]
u0:16 | Primitive | char  | char                 | [global]
u0:17 | Primitive | str   | str                  | [global]
u0:18 | Crate     | _c    | _c                   | [global]
u0:19 | Crate     | crate | _c::crate            |
u0:20 | Module    | _m    | _c::_m               |
u0:21 | File      | main  | _c::_m::main         |
u0:22 | Function  | foo   | _c::_m::main::foo    |
u0:23 | Variable  | x     | _c::_m::main::foo::x |

--- expect:symbol-deps ---
u0:22 -> [u0:7]
u0:23 -> [u0:7]
u0:7 <- [u0:22, u0:23]


===============================================================================
functions-with-destructured-parameters
===============================================================================


--- file: src/main.rs ---
struct Foo;
struct Y;
struct T;
struct U;

fn f1([x, y]: [Foo; 2]) {}

fn f2(&x: &Y) {}

fn f3((x, y): (T, U)) {}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                 | [global]
u0:2  | Primitive | i64   | i64                 | [global]
u0:3  | Primitive | i16   | i16                 | [global]
u0:4  | Primitive | i8    | i8                  | [global]
u0:5  | Primitive | i128  | i128                | [global]
u0:6  | Primitive | isize | isize               | [global]
u0:7  | Primitive | u32   | u32                 | [global]
u0:8  | Primitive | u64   | u64                 | [global]
u0:9  | Primitive | u16   | u16                 | [global]
u0:10 | Primitive | u8    | u8                  | [global]
u0:11 | Primitive | u128  | u128                | [global]
u0:12 | Primitive | usize | usize               | [global]
u0:13 | Primitive | f32   | f32                 | [global]
u0:14 | Primitive | f64   | f64                 | [global]
u0:15 | Primitive | bool  | bool                | [global]
u0:16 | Primitive | char  | char                | [global]
u0:17 | Primitive | str   | str                 | [global]
u0:18 | Crate     | _c    | _c                  | [global]
u0:19 | Crate     | crate | _c::crate           |
u0:20 | Module    | _m    | _c::_m              |
u0:21 | File      | main  | _c::_m::main        |
u0:22 | Struct    | Foo   | _c::_m::main::Foo   |
u0:23 | Struct    | Y     | _c::_m::main::Y     |
u0:24 | Struct    | T     | _c::_m::main::T     |
u0:25 | Struct    | U     | _c::_m::main::U     |
u0:26 | Function  | f1    | _c::_m::main::f1    |
u0:27 | Variable  | x     | _c::_m::main::f1::x |
u0:28 | Function  | f2    | _c::_m::main::f2    |
u0:29 | Variable  | x     | _c::_m::main::f2::x |
u0:30 | Function  | f3    | _c::_m::main::f3    |
u0:31 | Variable  | x     | _c::_m::main::f3::x |

--- expect:symbol-deps ---
u0:22 <- [u0:26, u0:27]
u0:23 <- [u0:28, u0:29]
u0:24 <- [u0:30, u0:31]
u0:25 <- [u0:30, u0:31]
u0:26 -> [u0:22]
u0:27 -> [u0:22]
u0:28 -> [u0:23]
u0:29 -> [u0:23]
u0:30 -> [u0:24, u0:25]
u0:31 -> [u0:24, u0:25]

--- expect:blocks ---
u0:1 | root  | main
u0:2 | class | Foo
u0:3 | class | Y
u0:4 | class | T
u0:5 | class | U
u0:6 | func  | f1
u0:7 | func  | f2
u0:8 | func  | f3

--- expect:block-deps ---
u0:2 <- [u0:6]
u0:3 <- [u0:7]
u0:4 <- [u0:8]
u0:5 <- [u0:8]
u0:6 -> [u0:2]
u0:7 -> [u0:3]
u0:8 -> [u0:4, u0:5]


===============================================================================
functions-with-custom-types-for-self
===============================================================================


--- file: src/main.rs ---
trait Callback {
    fn call(self: Box<Self>);
}

--- expect:symbols ---
u0:1  | Primitive | i32      | i32                          | [global]
u0:2  | Primitive | i64      | i64                          | [global]
u0:3  | Primitive | i16      | i16                          | [global]
u0:4  | Primitive | i8       | i8                           | [global]
u0:5  | Primitive | i128     | i128                         | [global]
u0:6  | Primitive | isize    | isize                        | [global]
u0:7  | Primitive | u32      | u32                          | [global]
u0:8  | Primitive | u64      | u64                          | [global]
u0:9  | Primitive | u16      | u16                          | [global]
u0:10 | Primitive | u8       | u8                           | [global]
u0:11 | Primitive | u128     | u128                         | [global]
u0:12 | Primitive | usize    | usize                        | [global]
u0:13 | Primitive | f32      | f32                          | [global]
u0:14 | Primitive | f64      | f64                          | [global]
u0:15 | Primitive | bool     | bool                         | [global]
u0:16 | Primitive | char     | char                         | [global]
u0:17 | Primitive | str      | str                          | [global]
u0:18 | Crate     | _c       | _c                           | [global]
u0:19 | Crate     | crate    | _c::crate                    |
u0:20 | Module    | _m       | _c::_m                       |
u0:21 | File      | main     | _c::_m::main                 |
u0:22 | Trait     | Callback | _c::_m::main::Callback       |
u0:23 | Function  | call     | _c::_m::main::Callback::call |

--- expect:symbol-deps ---
u0:22 <- [u0:23]
u0:23 -> [u0:22]


===============================================================================
constant-items
===============================================================================


--- file: src/main.rs ---
const N: i32 = 5;

trait Foo {
    const X: u8;
}

fn func() {
    println!("{}", N);
}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                  | [global]
u0:2  | Primitive | i64   | i64                  | [global]
u0:3  | Primitive | i16   | i16                  | [global]
u0:4  | Primitive | i8    | i8                   | [global]
u0:5  | Primitive | i128  | i128                 | [global]
u0:6  | Primitive | isize | isize                | [global]
u0:7  | Primitive | u32   | u32                  | [global]
u0:8  | Primitive | u64   | u64                  | [global]
u0:9  | Primitive | u16   | u16                  | [global]
u0:10 | Primitive | u8    | u8                   | [global]
u0:11 | Primitive | u128  | u128                 | [global]
u0:12 | Primitive | usize | usize                | [global]
u0:13 | Primitive | f32   | f32                  | [global]
u0:14 | Primitive | f64   | f64                  | [global]
u0:15 | Primitive | bool  | bool                 | [global]
u0:16 | Primitive | char  | char                 | [global]
u0:17 | Primitive | str   | str                  | [global]
u0:18 | Crate     | _c    | _c                   | [global]
u0:19 | Crate     | crate | _c::crate            |
u0:20 | Module    | _m    | _c::_m               |
u0:21 | File      | main  | _c::_m::main         |
u0:22 | Const     | N     | _c::_m::main::N      |
u0:23 | Trait     | Foo   | _c::_m::main::Foo    |
u0:24 | Const     | X     | _c::_m::main::Foo::X |
u0:25 | Function  | func  | _c::_m::main::func   |

--- expect:symbol-deps ---
u0:1 <- [u0:22]
u0:10 <- [u0:23, u0:24]
u0:22 -> [u0:1]
u0:23 -> [u0:10, u0:24]
u0:24 -> [u0:10]
u0:24 <- [u0:23]


===============================================================================
static-items
===============================================================================


--- file: src/main.rs ---
static N: i32 = 5;
static mut __progname: *mut ::c_char;

fn func() {
    println!("{}", N);
}

--- expect:symbols ---
u0:1  | Primitive | i32        | i32                      | [global]
u0:2  | Primitive | i64        | i64                      | [global]
u0:3  | Primitive | i16        | i16                      | [global]
u0:4  | Primitive | i8         | i8                       | [global]
u0:5  | Primitive | i128       | i128                     | [global]
u0:6  | Primitive | isize      | isize                    | [global]
u0:7  | Primitive | u32        | u32                      | [global]
u0:8  | Primitive | u64        | u64                      | [global]
u0:9  | Primitive | u16        | u16                      | [global]
u0:10 | Primitive | u8         | u8                       | [global]
u0:11 | Primitive | u128       | u128                     | [global]
u0:12 | Primitive | usize      | usize                    | [global]
u0:13 | Primitive | f32        | f32                      | [global]
u0:14 | Primitive | f64        | f64                      | [global]
u0:15 | Primitive | bool       | bool                     | [global]
u0:16 | Primitive | char       | char                     | [global]
u0:17 | Primitive | str        | str                      | [global]
u0:18 | Crate     | _c         | _c                       | [global]
u0:19 | Crate     | crate      | _c::crate                |
u0:20 | Module    | _m         | _c::_m                   |
u0:21 | File      | main       | _c::_m::main             |
u0:22 | Static    | N          | _c::_m::main::N          |
u0:23 | Static    | __progname | _c::_m::main::__progname |
u0:24 | Function  | func       | _c::_m::main::func       |

--- expect:symbol-deps ---
u0:1 <- [u0:22]
u0:22 -> [u0:1]


===============================================================================
static-ref-items-using-lazy-static
===============================================================================


--- file: src/main.rs ---
static ref ONE: usize = 0;

fn func() {
    println!("{}", ONE);
}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                | [global]
u0:2  | Primitive | i64   | i64                | [global]
u0:3  | Primitive | i16   | i16                | [global]
u0:4  | Primitive | i8    | i8                 | [global]
u0:5  | Primitive | i128  | i128               | [global]
u0:6  | Primitive | isize | isize              | [global]
u0:7  | Primitive | u32   | u32                | [global]
u0:8  | Primitive | u64   | u64                | [global]
u0:9  | Primitive | u16   | u16                | [global]
u0:10 | Primitive | u8    | u8                 | [global]
u0:11 | Primitive | u128  | u128               | [global]
u0:12 | Primitive | usize | usize              | [global]
u0:13 | Primitive | f32   | f32                | [global]
u0:14 | Primitive | f64   | f64                | [global]
u0:15 | Primitive | bool  | bool               | [global]
u0:16 | Primitive | char  | char               | [global]
u0:17 | Primitive | str   | str                | [global]
u0:18 | Crate     | _c    | _c                 | [global]
u0:19 | Crate     | crate | _c::crate          |
u0:20 | Module    | _m    | _c::_m             |
u0:21 | File      | main  | _c::_m::main       |
u0:22 | Static    | ONE   | _c::_m::main::ONE  |
u0:23 | Function  | func  | _c::_m::main::func |

--- expect:symbol-deps ---
u0:12 <- [u0:22]
u0:22 -> [u0:12]


===============================================================================
type-aliases
===============================================================================


--- file: src/main.rs ---
struct Tree<T>;

type Inch = u64;
type Name<T> = Tree<T>;
type LazyResolve = impl (FnOnce() -> Capture) + Send + Sync + UnwindSafe;

--- expect:symbols ---
u0:1  | Primitive     | i32         | i32                       | [global]
u0:2  | Primitive     | i64         | i64                       | [global]
u0:3  | Primitive     | i16         | i16                       | [global]
u0:4  | Primitive     | i8          | i8                        | [global]
u0:5  | Primitive     | i128        | i128                      | [global]
u0:6  | Primitive     | isize       | isize                     | [global]
u0:7  | Primitive     | u32         | u32                       | [global]
u0:8  | Primitive     | u64         | u64                       | [global]
u0:9  | Primitive     | u16         | u16                       | [global]
u0:10 | Primitive     | u8          | u8                        | [global]
u0:11 | Primitive     | u128        | u128                      | [global]
u0:12 | Primitive     | usize       | usize                     | [global]
u0:13 | Primitive     | f32         | f32                       | [global]
u0:14 | Primitive     | f64         | f64                       | [global]
u0:15 | Primitive     | bool        | bool                      | [global]
u0:16 | Primitive     | char        | char                      | [global]
u0:17 | Primitive     | str         | str                       | [global]
u0:18 | Crate         | _c          | _c                        | [global]
u0:19 | Crate         | crate       | _c::crate                 |
u0:20 | Module        | _m          | _c::_m                    |
u0:21 | File          | main        | _c::_m::main              |
u0:22 | Struct        | Tree        | _c::_m::main::Tree        |
u0:23 | TypeParameter | T           | _c::_m::main::Tree::T     |
u0:24 | TypeAlias     | Inch        | _c::_m::main::Inch        |
u0:25 | TypeAlias     | Name        | _c::_m::main::Name        |
u0:26 | TypeParameter | T           | _c::_m::main::T           |
u0:27 | TypeAlias     | LazyResolve | _c::_m::main::LazyResolve |

--- expect:symbol-deps ---
u0:22 <- [u0:25]
u0:24 -> [u0:8]
u0:25 -> [u0:22]
u0:8 <- [u0:24]


===============================================================================
type-alias-where-clauses
===============================================================================


--- file: src/main.rs ---
type Foo<T> where T: Copy = Box<T>;
type Assoc3 where = () where;

--- expect:symbols ---
u0:1  | Primitive     | i32    | i32                  | [global]
u0:2  | Primitive     | i64    | i64                  | [global]
u0:3  | Primitive     | i16    | i16                  | [global]
u0:4  | Primitive     | i8     | i8                   | [global]
u0:5  | Primitive     | i128   | i128                 | [global]
u0:6  | Primitive     | isize  | isize                | [global]
u0:7  | Primitive     | u32    | u32                  | [global]
u0:8  | Primitive     | u64    | u64                  | [global]
u0:9  | Primitive     | u16    | u16                  | [global]
u0:10 | Primitive     | u8     | u8                   | [global]
u0:11 | Primitive     | u128   | u128                 | [global]
u0:12 | Primitive     | usize  | usize                | [global]
u0:13 | Primitive     | f32    | f32                  | [global]
u0:14 | Primitive     | f64    | f64                  | [global]
u0:15 | Primitive     | bool   | bool                 | [global]
u0:16 | Primitive     | char   | char                 | [global]
u0:17 | Primitive     | str    | str                  | [global]
u0:18 | Crate         | _c     | _c                   | [global]
u0:19 | Crate         | crate  | _c::crate            |
u0:20 | Module        | _m     | _c::_m               |
u0:21 | File          | main   | _c::_m::main         |
u0:22 | TypeAlias     | Foo    | _c::_m::main::Foo    |
u0:23 | TypeParameter | T      | _c::_m::main::T      |
u0:24 | TypeAlias     | Assoc3 | _c::_m::main::Assoc3 |

--- expect:symbol-deps ---
u0:22 -> [u0:23]
u0:23 <- [u0:22]


===============================================================================
empty-statements
===============================================================================


--- file: src/main.rs ---
fn main() {
    ;
}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                | [global]
u0:2  | Primitive | i64   | i64                | [global]
u0:3  | Primitive | i16   | i16                | [global]
u0:4  | Primitive | i8    | i8                 | [global]
u0:5  | Primitive | i128  | i128               | [global]
u0:6  | Primitive | isize | isize              | [global]
u0:7  | Primitive | u32   | u32                | [global]
u0:8  | Primitive | u64   | u64                | [global]
u0:9  | Primitive | u16   | u16                | [global]
u0:10 | Primitive | u8    | u8                 | [global]
u0:11 | Primitive | u128  | u128               | [global]
u0:12 | Primitive | usize | usize              | [global]
u0:13 | Primitive | f32   | f32                | [global]
u0:14 | Primitive | f64   | f64                | [global]
u0:15 | Primitive | bool  | bool               | [global]
u0:16 | Primitive | char  | char               | [global]
u0:17 | Primitive | str   | str                | [global]
u0:18 | Crate     | _c    | _c                 | [global]
u0:19 | Crate     | crate | _c::crate          |
u0:20 | Module    | _m    | _c::_m             |
u0:21 | File      | main  | _c::_m::main       |
u0:22 | Function  | main  | _c::_m::main::main |

--- expect:symbol-deps ---


===============================================================================
attributes
===============================================================================


--- file: src/main.rs ---
#[test]
fn test_foo() {}

#[derive(Debug)]
struct Baz;

#[derive(Debug, Eq,)]
struct Foo;

#[cfg(target_os = "macos")]
mod macos_only {}

#![allow(clippy::useless_transmute)]

#[clippy::cyclomatic_complexity = "100"]

--- expect:symbols ---
u0:1  | Primitive | i32        | i32                      | [global]
u0:2  | Primitive | i64        | i64                      | [global]
u0:3  | Primitive | i16        | i16                      | [global]
u0:4  | Primitive | i8         | i8                       | [global]
u0:5  | Primitive | i128       | i128                     | [global]
u0:6  | Primitive | isize      | isize                    | [global]
u0:7  | Primitive | u32        | u32                      | [global]
u0:8  | Primitive | u64        | u64                      | [global]
u0:9  | Primitive | u16        | u16                      | [global]
u0:10 | Primitive | u8         | u8                       | [global]
u0:11 | Primitive | u128       | u128                     | [global]
u0:12 | Primitive | usize      | usize                    | [global]
u0:13 | Primitive | f32        | f32                      | [global]
u0:14 | Primitive | f64        | f64                      | [global]
u0:15 | Primitive | bool       | bool                     | [global]
u0:16 | Primitive | char       | char                     | [global]
u0:17 | Primitive | str        | str                      | [global]
u0:18 | Crate     | _c         | _c                       | [global]
u0:19 | Crate     | crate      | _c::crate                |
u0:20 | Module    | _m         | _c::_m                   |
u0:21 | File      | main       | _c::_m::main             |
u0:22 | Function  | test_foo   | _c::_m::main::test_foo   |
u0:23 | Struct    | Baz        | _c::_m::main::Baz        |
u0:24 | Struct    | Foo        | _c::_m::main::Foo        |
u0:25 | Namespace | macos_only | _c::_m::main::macos_only |

--- expect:symbol-deps ---


===============================================================================
inner-attributes
===============================================================================


--- file: src/main.rs ---
mod macos_only {
  #![cfg(target_os = "macos")]
}

match ty {
    #![cfg_attr(all(test, exhaustive), deny(non_exhaustive_omitted_patterns))]
    syn::Type::Array(ty) => self.visit_type(&ty.elem),
}

--- expect:symbols ---
u0:1  | Primitive | i32        | i32                      | [global]
u0:2  | Primitive | i64        | i64                      | [global]
u0:3  | Primitive | i16        | i16                      | [global]
u0:4  | Primitive | i8         | i8                       | [global]
u0:5  | Primitive | i128       | i128                     | [global]
u0:6  | Primitive | isize      | isize                    | [global]
u0:7  | Primitive | u32        | u32                      | [global]
u0:8  | Primitive | u64        | u64                      | [global]
u0:9  | Primitive | u16        | u16                      | [global]
u0:10 | Primitive | u8         | u8                       | [global]
u0:11 | Primitive | u128       | u128                     | [global]
u0:12 | Primitive | usize      | usize                    | [global]
u0:13 | Primitive | f32        | f32                      | [global]
u0:14 | Primitive | f64        | f64                      | [global]
u0:15 | Primitive | bool       | bool                     | [global]
u0:16 | Primitive | char       | char                     | [global]
u0:17 | Primitive | str        | str                      | [global]
u0:18 | Crate     | _c         | _c                       | [global]
u0:19 | Crate     | crate      | _c::crate                |
u0:20 | Module    | _m         | _c::_m                   |
u0:21 | File      | main       | _c::_m::main             |
u0:22 | Namespace | macos_only | _c::_m::main::macos_only |

--- expect:symbol-deps ---


===============================================================================
key-value-attribute-expressions
===============================================================================


--- file: src/main.rs ---
#[doc = include_str!("foo-doc.md")]
fn foo() {}

#[namespace = foo::bar]
fn baz() {}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32               | [global]
u0:2  | Primitive | i64   | i64               | [global]
u0:3  | Primitive | i16   | i16               | [global]
u0:4  | Primitive | i8    | i8                | [global]
u0:5  | Primitive | i128  | i128              | [global]
u0:6  | Primitive | isize | isize             | [global]
u0:7  | Primitive | u32   | u32               | [global]
u0:8  | Primitive | u64   | u64               | [global]
u0:9  | Primitive | u16   | u16               | [global]
u0:10 | Primitive | u8    | u8                | [global]
u0:11 | Primitive | u128  | u128              | [global]
u0:12 | Primitive | usize | usize             | [global]
u0:13 | Primitive | f32   | f32               | [global]
u0:14 | Primitive | f64   | f64               | [global]
u0:15 | Primitive | bool  | bool              | [global]
u0:16 | Primitive | char  | char              | [global]
u0:17 | Primitive | str   | str               | [global]
u0:18 | Crate     | _c    | _c                | [global]
u0:19 | Crate     | crate | _c::crate         |
u0:20 | Module    | _m    | _c::_m            |
u0:21 | File      | main  | _c::_m::main      |
u0:22 | Function  | foo   | _c::_m::main::foo |
u0:23 | Function  | baz   | _c::_m::main::baz |

--- expect:symbol-deps ---


===============================================================================
attribute-macros
===============================================================================


--- file: src/main.rs ---
foo(#[attr(=> arbitrary tokens <=)] x, y);

foo(#[bar(some tokens are special in other contexts: $/';()*()+.)] x);

--- expect:symbols ---
u0:1  | Primitive | i32   | i32          | [global]
u0:2  | Primitive | i64   | i64          | [global]
u0:3  | Primitive | i16   | i16          | [global]
u0:4  | Primitive | i8    | i8           | [global]
u0:5  | Primitive | i128  | i128         | [global]
u0:6  | Primitive | isize | isize        | [global]
u0:7  | Primitive | u32   | u32          | [global]
u0:8  | Primitive | u64   | u64          | [global]
u0:9  | Primitive | u16   | u16          | [global]
u0:10 | Primitive | u8    | u8           | [global]
u0:11 | Primitive | u128  | u128         | [global]
u0:12 | Primitive | usize | usize        | [global]
u0:13 | Primitive | f32   | f32          | [global]
u0:14 | Primitive | f64   | f64          | [global]
u0:15 | Primitive | bool  | bool         | [global]
u0:16 | Primitive | char  | char         | [global]
u0:17 | Primitive | str   | str          | [global]
u0:18 | Crate     | _c    | _c           | [global]
u0:19 | Crate     | crate | _c::crate    |
u0:20 | Module    | _m    | _c::_m       |
u0:21 | File      | main  | _c::_m::main |

--- expect:symbol-deps ---


===============================================================================
derive-macro-helper-attributes
===============================================================================


--- file: src/main.rs ---
// Example from https://github.com/dtolnay/thiserror/blob/21c26903e29cb92ba1a7ff11e82ae2001646b60d/README.md

use thiserror::Error;

pub struct Limits;

#[derive(Error, Debug)]
pub enum Error {
    #[error("first letter must be lowercase but was {:?}", first_char(.0))]
    WrongCase(String),
    #[error("invalid index {idx}, expected at least {} and at most {}", .limits.lo, .limits.hi)]
    OutOfBounds { idx: usize, limits: Limits },
}

--- expect:symbols ---
u0:1  | Primitive   | i32         | i32                                      | [global]
u0:2  | Primitive   | i64         | i64                                      | [global]
u0:3  | Primitive   | i16         | i16                                      | [global]
u0:4  | Primitive   | i8          | i8                                       | [global]
u0:5  | Primitive   | i128        | i128                                     | [global]
u0:6  | Primitive   | isize       | isize                                    | [global]
u0:7  | Primitive   | u32         | u32                                      | [global]
u0:8  | Primitive   | u64         | u64                                      | [global]
u0:9  | Primitive   | u16         | u16                                      | [global]
u0:10 | Primitive   | u8          | u8                                       | [global]
u0:11 | Primitive   | u128        | u128                                     | [global]
u0:12 | Primitive   | usize       | usize                                    | [global]
u0:13 | Primitive   | f32         | f32                                      | [global]
u0:14 | Primitive   | f64         | f64                                      | [global]
u0:15 | Primitive   | bool        | bool                                     | [global]
u0:16 | Primitive   | char        | char                                     | [global]
u0:17 | Primitive   | str         | str                                      | [global]
u0:18 | Crate       | _c          | _c                                       | [global]
u0:19 | Crate       | crate       | _c::crate                                |
u0:20 | Module      | _m          | _c::_m                                   |
u0:21 | File        | main        | _c::_m::main                             |
u0:22 | Struct      | Limits      | _c::_m::main::Limits                     |
u0:23 | Enum        | Error       | _c::_m::main::Error                      |
u0:24 | EnumVariant | WrongCase   | _c::_m::main::Error::WrongCase           |
u0:25 | EnumVariant | OutOfBounds | _c::_m::main::Error::OutOfBounds         |
u0:26 | Field       | idx         | _c::_m::main::Error::OutOfBounds::idx    |
u0:27 | Field       | limits      | _c::_m::main::Error::OutOfBounds::limits |

--- expect:symbol-deps ---
u0:12 <- [u0:23, u0:25, u0:26]
u0:22 <- [u0:23, u0:25, u0:27]
u0:23 -> [u0:12, u0:22]
u0:25 -> [u0:12, u0:22]
u0:26 -> [u0:12]
u0:27 -> [u0:22]


===============================================================================
attributes-and-expressions
===============================================================================


--- file: src/main.rs ---
fn foo() {
   bar(x,
       #[cfg(foo = "bar")]
       y);
   let z = [#[hello] 2, 7, 8];
   let t = (#[hello] 2, 7, 8);
}

fn bar(x: i32, y: i32) {}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                  | [global]
u0:2  | Primitive | i64   | i64                  | [global]
u0:3  | Primitive | i16   | i16                  | [global]
u0:4  | Primitive | i8    | i8                   | [global]
u0:5  | Primitive | i128  | i128                 | [global]
u0:6  | Primitive | isize | isize                | [global]
u0:7  | Primitive | u32   | u32                  | [global]
u0:8  | Primitive | u64   | u64                  | [global]
u0:9  | Primitive | u16   | u16                  | [global]
u0:10 | Primitive | u8    | u8                   | [global]
u0:11 | Primitive | u128  | u128                 | [global]
u0:12 | Primitive | usize | usize                | [global]
u0:13 | Primitive | f32   | f32                  | [global]
u0:14 | Primitive | f64   | f64                  | [global]
u0:15 | Primitive | bool  | bool                 | [global]
u0:16 | Primitive | char  | char                 | [global]
u0:17 | Primitive | str   | str                  | [global]
u0:18 | Crate     | _c    | _c                   | [global]
u0:19 | Crate     | crate | _c::crate            |
u0:20 | Module    | _m    | _c::_m               |
u0:21 | File      | main  | _c::_m::main         |
u0:22 | Function  | foo   | _c::_m::main::foo    |
u0:23 | Variable  | z     | _c::_m::main::foo::z |
u0:24 | Variable  | t     | _c::_m::main::foo::t |
u0:25 | Function  | bar   | _c::_m::main::bar    |
u0:26 | Variable  | x     | _c::_m::main::bar::x |
u0:27 | Variable  | y     | _c::_m::main::bar::y |

--- expect:symbol-deps ---
u0:1 <- [u0:25, u0:26, u0:27]
u0:22 -> [u0:25]
u0:25 -> [u0:1]
u0:25 <- [u0:22]
u0:26 -> [u0:1]
u0:27 -> [u0:1]


===============================================================================
inherent-impls
===============================================================================


--- file: src/main.rs ---
struct Person;
struct Machine<const STATE: State>;

impl Person {
  const leg_count : u32 = 2;

  fn walk(self) {}
  fn walk_mut(mut self) {}
  fn talk(& self) {}
  fn talk_mut(&'a mut self) {}
}

impl Machine<{State::Init}> {}

--- expect:symbols ---
u0:1  | Primitive | i32       | i32                             | [global]
u0:2  | Primitive | i64       | i64                             | [global]
u0:3  | Primitive | i16       | i16                             | [global]
u0:4  | Primitive | i8        | i8                              | [global]
u0:5  | Primitive | i128      | i128                            | [global]
u0:6  | Primitive | isize     | isize                           | [global]
u0:7  | Primitive | u32       | u32                             | [global]
u0:8  | Primitive | u64       | u64                             | [global]
u0:9  | Primitive | u16       | u16                             | [global]
u0:10 | Primitive | u8        | u8                              | [global]
u0:11 | Primitive | u128      | u128                            | [global]
u0:12 | Primitive | usize     | usize                           | [global]
u0:13 | Primitive | f32       | f32                             | [global]
u0:14 | Primitive | f64       | f64                             | [global]
u0:15 | Primitive | bool      | bool                            | [global]
u0:16 | Primitive | char      | char                            | [global]
u0:17 | Primitive | str       | str                             | [global]
u0:18 | Crate     | _c        | _c                              | [global]
u0:19 | Crate     | crate     | _c::crate                       |         
u0:20 | Module    | _m        | _c::_m                          |         
u0:21 | File      | main      | _c::_m::main                    |         
u0:22 | Struct    | Person    | _c::_m::main::Person            |         
u0:23 | Struct    | Machine   | _c::_m::main::Machine           |         
u0:24 | Const     | leg_count | _c::_m::main::Person::leg_count |         
u0:25 | Function  | walk      | _c::_m::main::Person::walk      |         
u0:26 | Function  | walk_mut  | _c::_m::main::Person::walk_mut  |         
u0:27 | Function  | talk      | _c::_m::main::Person::talk      |         
u0:28 | Function  | talk_mut  | _c::_m::main::Person::talk_mut  |         

--- expect:symbol-deps ---
u0:22 -> [u0:24, u0:25, u0:26, u0:27, u0:28, u0:7]
u0:24 -> [u0:7]
u0:24 <- [u0:22]
u0:25 <- [u0:22]
u0:26 <- [u0:22]
u0:27 <- [u0:22]
u0:28 <- [u0:22]
u0:7 <- [u0:22, u0:24]


===============================================================================
inherent-impls-across-multiple-files
===============================================================================


--- file: src/main.rs ---
pub struct Person;

impl Person {
  fn walk(self) {}
}

--- file: src/foo.rs ---
impl Person {
  fn talk(& self) {}
}

--- expect:symbols ---
u0:1  | Primitive      | i32    | i32                        | [global]
u0:2  | Primitive      | i64    | i64                        | [global]
u0:3  | Primitive      | i16    | i16                        | [global]
u0:4  | Primitive      | i8     | i8                         | [global]
u0:5  | Primitive      | i128   | i128                       | [global]
u0:6  | Primitive      | isize  | isize                      | [global]
u0:7  | Primitive      | u32    | u32                        | [global]
u0:8  | Primitive      | u64    | u64                        | [global]
u0:9  | Primitive      | u16    | u16                        | [global]
u0:10 | Primitive      | u8     | u8                         | [global]
u0:11 | Primitive      | u128   | u128                       | [global]
u0:12 | Primitive      | usize  | usize                      | [global]
u0:13 | Primitive      | f32    | f32                        | [global]
u0:14 | Primitive      | f64    | f64                        | [global]
u0:15 | Primitive      | bool   | bool                       | [global]
u0:16 | Primitive      | char   | char                       | [global]
u0:17 | Primitive      | str    | str                        | [global]
u0:18 | Crate          | _c     | _c                         | [global]
u0:19 | Crate          | crate  | _c::crate                  |         
u0:20 | Module         | _m     | _c::_m                     |         
u0:21 | File           | foo    | _c::_m::foo                |         
u0:22 | UnresolvedType | Person | _c::_m::foo::Person        |         
u0:23 | Function       | talk   | _c::_m::foo::Person::talk  |         
u1:24 | Primitive      | i32    | i32                        | [global]
u1:25 | Primitive      | i64    | i64                        | [global]
u1:26 | Primitive      | i16    | i16                        | [global]
u1:27 | Primitive      | i8     | i8                         | [global]
u1:28 | Primitive      | i128   | i128                       | [global]
u1:29 | Primitive      | isize  | isize                      | [global]
u1:30 | Primitive      | u32    | u32                        | [global]
u1:31 | Primitive      | u64    | u64                        | [global]
u1:32 | Primitive      | u16    | u16                        | [global]
u1:33 | Primitive      | u8     | u8                         | [global]
u1:34 | Primitive      | u128   | u128                       | [global]
u1:35 | Primitive      | usize  | usize                      | [global]
u1:36 | Primitive      | f32    | f32                        | [global]
u1:37 | Primitive      | f64    | f64                        | [global]
u1:38 | Primitive      | bool   | bool                       | [global]
u1:39 | Primitive      | char   | char                       | [global]
u1:40 | Primitive      | str    | str                        | [global]
u1:41 | Crate          | _c     | _c                         | [global]
u1:42 | Crate          | crate  | _c::crate                  |         
u1:43 | Module         | _m     | _c::_m                     |         
u1:44 | File           | main   | _c::_m::main               |         
u1:45 | Struct         | Person | _c::_m::main::Person       |         
u1:46 | Function       | walk   | _c::_m::main::Person::walk |         

--- expect:symbol-deps ---
u0:22 -> [u0:23]
u0:23 <- [u0:22]
u1:45 -> [u1:46]
u1:46 <- [u1:45]


===============================================================================
inherent-impls-no-defines
===============================================================================


--- file: src/main.rs ---
impl Person {
  fn walk(self) {}
}

--- expect:symbols ---
u0:1  | Primitive      | i32    | i32                        | [global]
u0:2  | Primitive      | i64    | i64                        | [global]
u0:3  | Primitive      | i16    | i16                        | [global]
u0:4  | Primitive      | i8     | i8                         | [global]
u0:5  | Primitive      | i128   | i128                       | [global]
u0:6  | Primitive      | isize  | isize                      | [global]
u0:7  | Primitive      | u32    | u32                        | [global]
u0:8  | Primitive      | u64    | u64                        | [global]
u0:9  | Primitive      | u16    | u16                        | [global]
u0:10 | Primitive      | u8     | u8                         | [global]
u0:11 | Primitive      | u128   | u128                       | [global]
u0:12 | Primitive      | usize  | usize                      | [global]
u0:13 | Primitive      | f32    | f32                        | [global]
u0:14 | Primitive      | f64    | f64                        | [global]
u0:15 | Primitive      | bool   | bool                       | [global]
u0:16 | Primitive      | char   | char                       | [global]
u0:17 | Primitive      | str    | str                        | [global]
u0:18 | Crate          | _c     | _c                         | [global]
u0:19 | Crate          | crate  | _c::crate                  |         
u0:20 | Module         | _m     | _c::_m                     |         
u0:21 | File           | main   | _c::_m::main               |         
u0:22 | UnresolvedType | Person | _c::_m::main::Person       |         
u0:23 | Function       | walk   | _c::_m::main::Person::walk |         

--- expect:symbol-deps ---
u0:22 -> [u0:23]
u0:23 <- [u0:22]


===============================================================================
trait-impls
===============================================================================


--- file: src/main.rs ---
impl<'a> iter::Iterator for Self::Iter<'a> {
}

impl ConvertTo<i64> for i32 {
    fn convert(&self) -> i64 { *self as i64 }
}

--- expect:symbols ---
u0:1  | Primitive      | i32            | i32                          | [global]
u0:2  | Primitive      | i64            | i64                          | [global]
u0:3  | Primitive      | i16            | i16                          | [global]
u0:4  | Primitive      | i8             | i8                           | [global]
u0:5  | Primitive      | i128           | i128                         | [global]
u0:6  | Primitive      | isize          | isize                        | [global]
u0:7  | Primitive      | u32            | u32                          | [global]
u0:8  | Primitive      | u64            | u64                          | [global]
u0:9  | Primitive      | u16            | u16                          | [global]
u0:10 | Primitive      | u8             | u8                           | [global]
u0:11 | Primitive      | u128           | u128                         | [global]
u0:12 | Primitive      | usize          | usize                        | [global]
u0:13 | Primitive      | f32            | f32                          | [global]
u0:14 | Primitive      | f64            | f64                          | [global]
u0:15 | Primitive      | bool           | bool                         | [global]
u0:16 | Primitive      | char           | char                         | [global]
u0:17 | Primitive      | str            | str                          | [global]
u0:18 | Crate          | _c             | _c                           | [global]
u0:19 | Crate          | crate          | _c::crate                    |         
u0:20 | Module         | _m             | _c::_m                       |         
u0:21 | File           | main           | _c::_m::main                 |         
u0:22 | UnresolvedType | iter::Iterator | _c::_m::main::iter::Iterator |         
u0:23 | UnresolvedType | Self::Iter     | _c::_m::main::Self::Iter     |         
u0:24 | UnresolvedType | ConvertTo      | _c::_m::main::ConvertTo      |         
u0:25 | UnresolvedType | i32            | _c::_m::main::i32            |         
u0:26 | Function       | convert        | _c::_m::main::i32::convert   |         

--- expect:symbol-deps ---
u0:1 <- [u0:25]
u0:2 <- [u0:25, u0:26]
u0:25 -> [u0:1, u0:2, u0:26]
u0:26 -> [u0:2]
u0:26 <- [u0:25]


===============================================================================
unsafe-impls
===============================================================================


--- file: src/main.rs ---
unsafe impl Foo {
}

--- expect:symbols ---
u0:1  | Primitive      | i32   | i32               | [global]
u0:2  | Primitive      | i64   | i64               | [global]
u0:3  | Primitive      | i16   | i16               | [global]
u0:4  | Primitive      | i8    | i8                | [global]
u0:5  | Primitive      | i128  | i128              | [global]
u0:6  | Primitive      | isize | isize             | [global]
u0:7  | Primitive      | u32   | u32               | [global]
u0:8  | Primitive      | u64   | u64               | [global]
u0:9  | Primitive      | u16   | u16               | [global]
u0:10 | Primitive      | u8    | u8                | [global]
u0:11 | Primitive      | u128  | u128              | [global]
u0:12 | Primitive      | usize | usize             | [global]
u0:13 | Primitive      | f32   | f32               | [global]
u0:14 | Primitive      | f64   | f64               | [global]
u0:15 | Primitive      | bool  | bool              | [global]
u0:16 | Primitive      | char  | char              | [global]
u0:17 | Primitive      | str   | str               | [global]
u0:18 | Crate          | _c    | _c                | [global]
u0:19 | Crate          | crate | _c::crate         |         
u0:20 | Module         | _m    | _c::_m            |         
u0:21 | File           | main  | _c::_m::main      |         
u0:22 | UnresolvedType | Foo   | _c::_m::main::Foo |         

--- expect:symbol-deps ---


===============================================================================
disable-automatically-derived-trait-impls
===============================================================================


--- file: src/main.rs ---
impl !Send for Foo {}

--- expect:symbols ---
u0:1  | Primitive      | i32   | i32                | [global]
u0:2  | Primitive      | i64   | i64                | [global]
u0:3  | Primitive      | i16   | i16                | [global]
u0:4  | Primitive      | i8    | i8                 | [global]
u0:5  | Primitive      | i128  | i128               | [global]
u0:6  | Primitive      | isize | isize              | [global]
u0:7  | Primitive      | u32   | u32                | [global]
u0:8  | Primitive      | u64   | u64                | [global]
u0:9  | Primitive      | u16   | u16                | [global]
u0:10 | Primitive      | u8    | u8                 | [global]
u0:11 | Primitive      | u128  | u128               | [global]
u0:12 | Primitive      | usize | usize              | [global]
u0:13 | Primitive      | f32   | f32                | [global]
u0:14 | Primitive      | f64   | f64                | [global]
u0:15 | Primitive      | bool  | bool               | [global]
u0:16 | Primitive      | char  | char               | [global]
u0:17 | Primitive      | str   | str                | [global]
u0:18 | Crate          | _c    | _c                 | [global]
u0:19 | Crate          | crate | _c::crate          |         
u0:20 | Module         | _m    | _c::_m             |         
u0:21 | File           | main  | _c::_m::main       |         
u0:22 | UnresolvedType | Send  | _c::_m::main::Send |         
u0:23 | UnresolvedType | Foo   | _c::_m::main::Foo  |         

--- expect:symbol-deps ---


===============================================================================
impl-dyn-with-parentheses
===============================================================================


--- file: src/main.rs ---
pub unsafe trait Trait {}

unsafe impl Trait for dyn (::std::any::Any) + Send { }

--- expect:symbols ---
u0:1  | Primitive      | i32             | i32                           | [global]
u0:2  | Primitive      | i64             | i64                           | [global]
u0:3  | Primitive      | i16             | i16                           | [global]
u0:4  | Primitive      | i8              | i8                            | [global]
u0:5  | Primitive      | i128            | i128                          | [global]
u0:6  | Primitive      | isize           | isize                         | [global]
u0:7  | Primitive      | u32             | u32                           | [global]
u0:8  | Primitive      | u64             | u64                           | [global]
u0:9  | Primitive      | u16             | u16                           | [global]
u0:10 | Primitive      | u8              | u8                            | [global]
u0:11 | Primitive      | u128            | u128                          | [global]
u0:12 | Primitive      | usize           | usize                         | [global]
u0:13 | Primitive      | f32             | f32                           | [global]
u0:14 | Primitive      | f64             | f64                           | [global]
u0:15 | Primitive      | bool            | bool                          | [global]
u0:16 | Primitive      | char            | char                          | [global]
u0:17 | Primitive      | str             | str                           | [global]
u0:18 | Crate          | _c              | _c                            | [global]
u0:19 | Crate          | crate           | _c::crate                     |         
u0:20 | Module         | _m              | _c::_m                        |         
u0:21 | File           | main            | _c::_m::main                  |         
u0:22 | Trait          | Trait           | _c::_m::main::Trait           |         
u0:23 | UnresolvedType | ::std::any::Any | _c::_m::main::::std::any::Any |         

--- expect:symbol-deps ---
u0:22 <- [u0:23]
u0:23 -> [u0:22]


===============================================================================
trait-impl-signature
===============================================================================


--- file: src/main.rs ---
impl<K: Debug + Ord> Debug for OccupiedError<K>;
impl<K: Debug + Ord> Display for OccupiedError<K>;

--- expect:symbols ---
u0:1  | Primitive      | i32           | i32                            | [global]
u0:2  | Primitive      | i64           | i64                            | [global]
u0:3  | Primitive      | i16           | i16                            | [global]
u0:4  | Primitive      | i8            | i8                             | [global]
u0:5  | Primitive      | i128          | i128                           | [global]
u0:6  | Primitive      | isize         | isize                          | [global]
u0:7  | Primitive      | u32           | u32                            | [global]
u0:8  | Primitive      | u64           | u64                            | [global]
u0:9  | Primitive      | u16           | u16                            | [global]
u0:10 | Primitive      | u8            | u8                             | [global]
u0:11 | Primitive      | u128          | u128                           | [global]
u0:12 | Primitive      | usize         | usize                          | [global]
u0:13 | Primitive      | f32           | f32                            | [global]
u0:14 | Primitive      | f64           | f64                            | [global]
u0:15 | Primitive      | bool          | bool                           | [global]
u0:16 | Primitive      | char          | char                           | [global]
u0:17 | Primitive      | str           | str                            | [global]
u0:18 | Crate          | _c            | _c                             | [global]
u0:19 | Crate          | crate         | _c::crate                      |         
u0:20 | Module         | _m            | _c::_m                         |         
u0:21 | File           | main          | _c::_m::main                   |         
u0:22 | UnresolvedType | Debug         | _c::_m::main::Debug            |         
u0:23 | UnresolvedType | OccupiedError | _c::_m::main::OccupiedError    |         
u0:24 | TypeParameter  | K             | _c::_m::main::OccupiedError::K |         
u0:25 | UnresolvedType | Display       | _c::_m::main::Display          |         
u0:26 | TypeParameter  | K             | _c::_m::main::OccupiedError::K |         

--- expect:symbol-deps ---


===============================================================================
impls-with-default-functions
===============================================================================


--- file: src/main.rs ---
impl Foo {
  const default fn bar() -> i32 {
    // Make 'default' still works as an identifier
    default.bar();
  }
}

--- expect:symbols ---
u0:1  | Primitive      | i32   | i32                    | [global]
u0:2  | Primitive      | i64   | i64                    | [global]
u0:3  | Primitive      | i16   | i16                    | [global]
u0:4  | Primitive      | i8    | i8                     | [global]
u0:5  | Primitive      | i128  | i128                   | [global]
u0:6  | Primitive      | isize | isize                  | [global]
u0:7  | Primitive      | u32   | u32                    | [global]
u0:8  | Primitive      | u64   | u64                    | [global]
u0:9  | Primitive      | u16   | u16                    | [global]
u0:10 | Primitive      | u8    | u8                     | [global]
u0:11 | Primitive      | u128  | u128                   | [global]
u0:12 | Primitive      | usize | usize                  | [global]
u0:13 | Primitive      | f32   | f32                    | [global]
u0:14 | Primitive      | f64   | f64                    | [global]
u0:15 | Primitive      | bool  | bool                   | [global]
u0:16 | Primitive      | char  | char                   | [global]
u0:17 | Primitive      | str   | str                    | [global]
u0:18 | Crate          | _c    | _c                     | [global]
u0:19 | Crate          | crate | _c::crate              |         
u0:20 | Module         | _m    | _c::_m                 |         
u0:21 | File           | main  | _c::_m::main           |         
u0:22 | UnresolvedType | Foo   | _c::_m::main::Foo      |         
u0:23 | Function       | bar   | _c::_m::main::Foo::bar |         

--- expect:symbol-deps ---
u0:1 <- [u0:23]
u0:22 -> [u0:23]
u0:23 -> [u0:1]
u0:23 <- [u0:22]


===============================================================================
trait-declarations
===============================================================================


--- file: src/main.rs ---
pub trait Item: Clone + Eq + fmt::Debug {
    fn summarize(&self) -> Self::Summary;
}

unsafe trait Foo { }

--- expect:symbols ---
u0:1  | Primitive | i32       | i32                           | [global]
u0:2  | Primitive | i64       | i64                           | [global]
u0:3  | Primitive | i16       | i16                           | [global]
u0:4  | Primitive | i8        | i8                            | [global]
u0:5  | Primitive | i128      | i128                          | [global]
u0:6  | Primitive | isize     | isize                         | [global]
u0:7  | Primitive | u32       | u32                           | [global]
u0:8  | Primitive | u64       | u64                           | [global]
u0:9  | Primitive | u16       | u16                           | [global]
u0:10 | Primitive | u8        | u8                            | [global]
u0:11 | Primitive | u128      | u128                          | [global]
u0:12 | Primitive | usize     | usize                         | [global]
u0:13 | Primitive | f32       | f32                           | [global]
u0:14 | Primitive | f64       | f64                           | [global]
u0:15 | Primitive | bool      | bool                          | [global]
u0:16 | Primitive | char      | char                          | [global]
u0:17 | Primitive | str       | str                           | [global]
u0:18 | Crate     | _c        | _c                            | [global]
u0:19 | Crate     | crate     | _c::crate                     |
u0:20 | Module    | _m        | _c::_m                        |
u0:21 | File      | main      | _c::_m::main                  |
u0:22 | Trait     | Item      | _c::_m::main::Item            |
u0:23 | Function  | summarize | _c::_m::main::Item::summarize |
u0:24 | Trait     | Foo       | _c::_m::main::Foo             |

--- expect:symbol-deps ---
u0:22 -> [u0:23]
u0:23 <- [u0:22]


===============================================================================
trait-declarations-with-optional-type-parameters
===============================================================================


--- file: src/main.rs ---
struct Foo;

trait Add<RHS=Foo> {
    type Output;
    fn add(self, rhs: RHS) -> Self::Output;
}

--- expect:symbols ---
u0:1  | Primitive     | i32    | i32                         | [global]
u0:2  | Primitive     | i64    | i64                         | [global]
u0:3  | Primitive     | i16    | i16                         | [global]
u0:4  | Primitive     | i8     | i8                          | [global]
u0:5  | Primitive     | i128   | i128                        | [global]
u0:6  | Primitive     | isize  | isize                       | [global]
u0:7  | Primitive     | u32    | u32                         | [global]
u0:8  | Primitive     | u64    | u64                         | [global]
u0:9  | Primitive     | u16    | u16                         | [global]
u0:10 | Primitive     | u8     | u8                          | [global]
u0:11 | Primitive     | u128   | u128                        | [global]
u0:12 | Primitive     | usize  | usize                       | [global]
u0:13 | Primitive     | f32    | f32                         | [global]
u0:14 | Primitive     | f64    | f64                         | [global]
u0:15 | Primitive     | bool   | bool                        | [global]
u0:16 | Primitive     | char   | char                        | [global]
u0:17 | Primitive     | str    | str                         | [global]
u0:18 | Crate         | _c     | _c                          | [global]
u0:19 | Crate         | crate  | _c::crate                   |         
u0:20 | Module        | _m     | _c::_m                      |         
u0:21 | File          | main   | _c::_m::main                |         
u0:22 | Struct        | Foo    | _c::_m::main::Foo           |         
u0:23 | Trait         | Add    | _c::_m::main::Add           |         
u0:24 | TypeParameter | RHS    | _c::_m::main::Add::RHS      |         
u0:25 | TypeAlias     | Output | _c::_m::main::Add::Output   |         
u0:26 | Function      | add    | _c::_m::main::Add::add      |         
u0:27 | Variable      | rhs    | _c::_m::main::Add::add::rhs |         

--- expect:symbol-deps ---
u0:22 <- [u0:23, u0:24]
u0:23 -> [u0:22, u0:26]
u0:24 -> [u0:22]
u0:24 <- [u0:26, u0:27]
u0:26 -> [u0:24]
u0:26 <- [u0:23]
u0:27 -> [u0:24]


===============================================================================
unsized-types-in-trait-bounds
===============================================================================


--- file: src/main.rs ---
trait Foo<T: ?Sized> {
}

fn univariant(this: &impl ?Sized, that: &(impl LayoutCalculator + ?Sized)) {}

--- expect:symbols ---
u0:1  | Primitive     | i32        | i32                            | [global]
u0:2  | Primitive     | i64        | i64                            | [global]
u0:3  | Primitive     | i16        | i16                            | [global]
u0:4  | Primitive     | i8         | i8                             | [global]
u0:5  | Primitive     | i128       | i128                           | [global]
u0:6  | Primitive     | isize      | isize                          | [global]
u0:7  | Primitive     | u32        | u32                            | [global]
u0:8  | Primitive     | u64        | u64                            | [global]
u0:9  | Primitive     | u16        | u16                            | [global]
u0:10 | Primitive     | u8         | u8                             | [global]
u0:11 | Primitive     | u128       | u128                           | [global]
u0:12 | Primitive     | usize      | usize                          | [global]
u0:13 | Primitive     | f32        | f32                            | [global]
u0:14 | Primitive     | f64        | f64                            | [global]
u0:15 | Primitive     | bool       | bool                           | [global]
u0:16 | Primitive     | char       | char                           | [global]
u0:17 | Primitive     | str        | str                            | [global]
u0:18 | Crate         | _c         | _c                             | [global]
u0:19 | Crate         | crate      | _c::crate                      |
u0:20 | Module        | _m         | _c::_m                         |
u0:21 | File          | main       | _c::_m::main                   |
u0:22 | Trait         | Foo        | _c::_m::main::Foo              |
u0:23 | TypeParameter | T          | _c::_m::main::Foo::T           |
u0:24 | Function      | univariant | _c::_m::main::univariant       |
u0:25 | Variable      | this       | _c::_m::main::univariant::this |
u0:26 | Variable      | that       | _c::_m::main::univariant::that |

--- expect:symbol-deps ---


===============================================================================
trait-bounds-in-type-arguments-in-trait
===============================================================================


--- file: src/main.rs ---
impl<T: AstDeref<Target: HasNodeId>> HasNodeId for T {}

--- expect:symbols ---
u0:1  | Primitive      | i32       | i32                     | [global]
u0:2  | Primitive      | i64       | i64                     | [global]
u0:3  | Primitive      | i16       | i16                     | [global]
u0:4  | Primitive      | i8        | i8                      | [global]
u0:5  | Primitive      | i128      | i128                    | [global]
u0:6  | Primitive      | isize     | isize                   | [global]
u0:7  | Primitive      | u32       | u32                     | [global]
u0:8  | Primitive      | u64       | u64                     | [global]
u0:9  | Primitive      | u16       | u16                     | [global]
u0:10 | Primitive      | u8        | u8                      | [global]
u0:11 | Primitive      | u128      | u128                    | [global]
u0:12 | Primitive      | usize     | usize                   | [global]
u0:13 | Primitive      | f32       | f32                     | [global]
u0:14 | Primitive      | f64       | f64                     | [global]
u0:15 | Primitive      | bool      | bool                    | [global]
u0:16 | Primitive      | char      | char                    | [global]
u0:17 | Primitive      | str       | str                     | [global]
u0:18 | Crate          | _c        | _c                      | [global]
u0:19 | Crate          | crate     | _c::crate               |         
u0:20 | Module         | _m        | _c::_m                  |         
u0:21 | File           | main      | _c::_m::main            |         
u0:22 | UnresolvedType | HasNodeId | _c::_m::main::HasNodeId |         
u0:23 | UnresolvedType | T         | _c::_m::main::T         |         
u0:24 | TypeParameter  | T         | _c::_m::main::T::T      |         

--- expect:symbol-deps ---


===============================================================================
macro-invocations-inside-trait-declarations
===============================================================================


--- file: src/main.rs ---
pub trait A: B + C + D {
    private_decl!{}
    fn f(&self);
}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                | [global]
u0:2  | Primitive | i64   | i64                | [global]
u0:3  | Primitive | i16   | i16                | [global]
u0:4  | Primitive | i8    | i8                 | [global]
u0:5  | Primitive | i128  | i128               | [global]
u0:6  | Primitive | isize | isize              | [global]
u0:7  | Primitive | u32   | u32                | [global]
u0:8  | Primitive | u64   | u64                | [global]
u0:9  | Primitive | u16   | u16                | [global]
u0:10 | Primitive | u8    | u8                 | [global]
u0:11 | Primitive | u128  | u128               | [global]
u0:12 | Primitive | usize | usize              | [global]
u0:13 | Primitive | f32   | f32                | [global]
u0:14 | Primitive | f64   | f64                | [global]
u0:15 | Primitive | bool  | bool               | [global]
u0:16 | Primitive | char  | char               | [global]
u0:17 | Primitive | str   | str                | [global]
u0:18 | Crate     | _c    | _c                 | [global]
u0:19 | Crate     | crate | _c::crate          |
u0:20 | Module    | _m    | _c::_m             |
u0:21 | File      | main  | _c::_m::main       |
u0:22 | Trait     | A     | _c::_m::main::A    |
u0:23 | Function  | f     | _c::_m::main::A::f |

--- expect:symbol-deps ---
u0:22 -> [u0:23]
u0:23 <- [u0:22]


===============================================================================
associated-types
===============================================================================


--- file: src/main.rs ---
pub trait Graph {
    type N: fmt::Display;
    type E;
}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                    | [global]
u0:2  | Primitive | i64   | i64                    | [global]
u0:3  | Primitive | i16   | i16                    | [global]
u0:4  | Primitive | i8    | i8                     | [global]
u0:5  | Primitive | i128  | i128                   | [global]
u0:6  | Primitive | isize | isize                  | [global]
u0:7  | Primitive | u32   | u32                    | [global]
u0:8  | Primitive | u64   | u64                    | [global]
u0:9  | Primitive | u16   | u16                    | [global]
u0:10 | Primitive | u8    | u8                     | [global]
u0:11 | Primitive | u128  | u128                   | [global]
u0:12 | Primitive | usize | usize                  | [global]
u0:13 | Primitive | f32   | f32                    | [global]
u0:14 | Primitive | f64   | f64                    | [global]
u0:15 | Primitive | bool  | bool                   | [global]
u0:16 | Primitive | char  | char                   | [global]
u0:17 | Primitive | str   | str                    | [global]
u0:18 | Crate     | _c    | _c                     | [global]
u0:19 | Crate     | crate | _c::crate              |
u0:20 | Module    | _m    | _c::_m                 |
u0:21 | File      | main  | _c::_m::main           |
u0:22 | Trait     | Graph | _c::_m::main::Graph    |
u0:23 | TypeAlias | N     | _c::_m::main::Graph::N |
u0:24 | TypeAlias | E     | _c::_m::main::Graph::E |

--- expect:symbol-deps ---


===============================================================================
associated-type-definitions
===============================================================================


--- file: src/main.rs ---
impl Trait for T {
    type Associated = T where 'static: 'static;
}

--- expect:symbols ---
u0:1  | Primitive      | i32        | i32                         | [global]
u0:2  | Primitive      | i64        | i64                         | [global]
u0:3  | Primitive      | i16        | i16                         | [global]
u0:4  | Primitive      | i8         | i8                          | [global]
u0:5  | Primitive      | i128       | i128                        | [global]
u0:6  | Primitive      | isize      | isize                       | [global]
u0:7  | Primitive      | u32        | u32                         | [global]
u0:8  | Primitive      | u64        | u64                         | [global]
u0:9  | Primitive      | u16        | u16                         | [global]
u0:10 | Primitive      | u8         | u8                          | [global]
u0:11 | Primitive      | u128       | u128                        | [global]
u0:12 | Primitive      | usize      | usize                       | [global]
u0:13 | Primitive      | f32        | f32                         | [global]
u0:14 | Primitive      | f64        | f64                         | [global]
u0:15 | Primitive      | bool       | bool                        | [global]
u0:16 | Primitive      | char       | char                        | [global]
u0:17 | Primitive      | str        | str                         | [global]
u0:18 | Crate          | _c         | _c                          | [global]
u0:19 | Crate          | crate      | _c::crate                   |         
u0:20 | Module         | _m         | _c::_m                      |         
u0:21 | File           | main       | _c::_m::main                |         
u0:22 | UnresolvedType | Trait      | _c::_m::main::Trait         |         
u0:23 | UnresolvedType | T          | _c::_m::main::T             |         
u0:24 | TypeAlias      | Associated | _c::_m::main::T::Associated |         

--- expect:symbol-deps ---
u0:23 <- [u0:24]
u0:24 -> [u0:23]


===============================================================================
generic-associated-types
===============================================================================


--- file: src/main.rs ---
pub trait Database {
    type F<'a, D>: Future<Output = D> + 'a;
}

impl Database for Foo {
    type F<'a, D> = DatabaseFuture<'a, D>;
}

fn use_database1<D: Database<F<'a, TD> = F>>() {}

fn use_database2<D>()
where
    D: Database<F<'a, TD> = F>,
{}

--- expect:symbols ---
u0:1  | Primitive      | i32           | i32                            | [global]
u0:2  | Primitive      | i64           | i64                            | [global]
u0:3  | Primitive      | i16           | i16                            | [global]
u0:4  | Primitive      | i8            | i8                             | [global]
u0:5  | Primitive      | i128          | i128                           | [global]
u0:6  | Primitive      | isize         | isize                          | [global]
u0:7  | Primitive      | u32           | u32                            | [global]
u0:8  | Primitive      | u64           | u64                            | [global]
u0:9  | Primitive      | u16           | u16                            | [global]
u0:10 | Primitive      | u8            | u8                             | [global]
u0:11 | Primitive      | u128          | u128                           | [global]
u0:12 | Primitive      | usize         | usize                          | [global]
u0:13 | Primitive      | f32           | f32                            | [global]
u0:14 | Primitive      | f64           | f64                            | [global]
u0:15 | Primitive      | bool          | bool                           | [global]
u0:16 | Primitive      | char          | char                           | [global]
u0:17 | Primitive      | str           | str                            | [global]
u0:18 | Crate          | _c            | _c                             | [global]
u0:19 | Crate          | crate         | _c::crate                      |         
u0:20 | Module         | _m            | _c::_m                         |         
u0:21 | File           | main          | _c::_m::main                   |         
u0:22 | Trait          | Database      | _c::_m::main::Database         |         
u0:23 | TypeAlias      | F             | _c::_m::main::Database::F      |         
u0:24 | TypeParameter  | D             | _c::_m::main::Database::D      |         
u0:25 | UnresolvedType | Foo           | _c::_m::main::Foo              |         
u0:26 | TypeAlias      | F             | _c::_m::main::Foo::F           |         
u0:27 | TypeParameter  | D             | _c::_m::main::Foo::D           |         
u0:28 | Function       | use_database1 | _c::_m::main::use_database1    |         
u0:29 | TypeParameter  | D             | _c::_m::main::use_database1::D |         
u0:30 | Function       | use_database2 | _c::_m::main::use_database2    |         
u0:31 | TypeParameter  | D             | _c::_m::main::use_database2::D |         

--- expect:symbol-deps ---
u0:22 <- [u0:25]
u0:25 -> [u0:22, u0:27]
u0:26 -> [u0:27]
u0:27 <- [u0:25, u0:26]


===============================================================================
higher-ranked-types-basic
===============================================================================


--- file: src/main.rs ---
struct AddAssign<T>;

trait T: for<'a> AddAssign<&'a usize> {
}

type FnObject<'b> = dyn for<'a> FnLike<&'a isize, &'a isize> + 'b;

--- expect:symbols ---
u0:1  | Primitive     | i32       | i32                        | [global]
u0:2  | Primitive     | i64       | i64                        | [global]
u0:3  | Primitive     | i16       | i16                        | [global]
u0:4  | Primitive     | i8        | i8                         | [global]
u0:5  | Primitive     | i128      | i128                       | [global]
u0:6  | Primitive     | isize     | isize                      | [global]
u0:7  | Primitive     | u32       | u32                        | [global]
u0:8  | Primitive     | u64       | u64                        | [global]
u0:9  | Primitive     | u16       | u16                        | [global]
u0:10 | Primitive     | u8        | u8                         | [global]
u0:11 | Primitive     | u128      | u128                       | [global]
u0:12 | Primitive     | usize     | usize                      | [global]
u0:13 | Primitive     | f32       | f32                        | [global]
u0:14 | Primitive     | f64       | f64                        | [global]
u0:15 | Primitive     | bool      | bool                       | [global]
u0:16 | Primitive     | char      | char                       | [global]
u0:17 | Primitive     | str       | str                        | [global]
u0:18 | Crate         | _c        | _c                         | [global]
u0:19 | Crate         | crate     | _c::crate                  |
u0:20 | Module        | _m        | _c::_m                     |
u0:21 | File          | main      | _c::_m::main               |
u0:22 | Struct        | AddAssign | _c::_m::main::AddAssign    |
u0:23 | TypeParameter | T         | _c::_m::main::AddAssign::T |
u0:24 | Trait         | T         | _c::_m::main::T            |
u0:25 | TypeAlias     | FnObject  | _c::_m::main::FnObject     |

--- expect:symbol-deps ---
u0:12 <- [u0:24]
u0:24 -> [u0:12]
u0:25 -> [u0:6]
u0:6 <- [u0:25]


===============================================================================
higher-ranked-types-with-trait-bounds
===============================================================================


--- file: src/main.rs ---
trait Foo {};
trait Bar {};
trait Baz<T> {};

struct AddAssign<T: Foo, U: Baz<u32>>;

trait T: for<'a> AddAssign<&'a usize> {
}

type FnObject<'b> = dyn for<'a> FnLike<&'a isize, &'a isize> + 'b;

--- expect:symbols ---
u0:1  | Primitive     | i32       | i32                        | [global]
u0:2  | Primitive     | i64       | i64                        | [global]
u0:3  | Primitive     | i16       | i16                        | [global]
u0:4  | Primitive     | i8        | i8                         | [global]
u0:5  | Primitive     | i128      | i128                       | [global]
u0:6  | Primitive     | isize     | isize                      | [global]
u0:7  | Primitive     | u32       | u32                        | [global]
u0:8  | Primitive     | u64       | u64                        | [global]
u0:9  | Primitive     | u16       | u16                        | [global]
u0:10 | Primitive     | u8        | u8                         | [global]
u0:11 | Primitive     | u128      | u128                       | [global]
u0:12 | Primitive     | usize     | usize                      | [global]
u0:13 | Primitive     | f32       | f32                        | [global]
u0:14 | Primitive     | f64       | f64                        | [global]
u0:15 | Primitive     | bool      | bool                       | [global]
u0:16 | Primitive     | char      | char                       | [global]
u0:17 | Primitive     | str       | str                        | [global]
u0:18 | Crate         | _c        | _c                         | [global]
u0:19 | Crate         | crate     | _c::crate                  |
u0:20 | Module        | _m        | _c::_m                     |
u0:21 | File          | main      | _c::_m::main               |
u0:22 | Trait         | Foo       | _c::_m::main::Foo          |
u0:23 | Trait         | Bar       | _c::_m::main::Bar          |
u0:24 | Trait         | Baz       | _c::_m::main::Baz          |
u0:25 | TypeParameter | T         | _c::_m::main::Baz::T       |
u0:26 | Struct        | AddAssign | _c::_m::main::AddAssign    |
u0:27 | TypeParameter | T         | _c::_m::main::AddAssign::T |
u0:28 | TypeParameter | U         | _c::_m::main::AddAssign::U |
u0:29 | Trait         | T         | _c::_m::main::T            |
u0:30 | TypeAlias     | FnObject  | _c::_m::main::FnObject     |

--- expect:symbol-deps ---
u0:12 <- [u0:29]
u0:26 -> [u0:7]
u0:29 -> [u0:12]
u0:30 -> [u0:6]
u0:6 <- [u0:30]
u0:7 <- [u0:26]


===============================================================================
visibility-modifiers
===============================================================================


--- file: src/main.rs ---
pub fn a() {}
pub(super) fn b() {}
pub(self) fn c() {}
pub(crate) fn c() {}
pub(in crate::d) fn e() {}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32             | [global]
u0:2  | Primitive | i64   | i64             | [global]
u0:3  | Primitive | i16   | i16             | [global]
u0:4  | Primitive | i8    | i8              | [global]
u0:5  | Primitive | i128  | i128            | [global]
u0:6  | Primitive | isize | isize           | [global]
u0:7  | Primitive | u32   | u32             | [global]
u0:8  | Primitive | u64   | u64             | [global]
u0:9  | Primitive | u16   | u16             | [global]
u0:10 | Primitive | u8    | u8              | [global]
u0:11 | Primitive | u128  | u128            | [global]
u0:12 | Primitive | usize | usize           | [global]
u0:13 | Primitive | f32   | f32             | [global]
u0:14 | Primitive | f64   | f64             | [global]
u0:15 | Primitive | bool  | bool            | [global]
u0:16 | Primitive | char  | char            | [global]
u0:17 | Primitive | str   | str             | [global]
u0:18 | Crate     | _c    | _c              | [global]
u0:19 | Crate     | crate | _c::crate       |
u0:20 | Module    | _m    | _c::_m          |
u0:21 | File      | main  | _c::_m::main    |
u0:22 | Function  | a     | _c::_m::main::a |
u0:23 | Function  | b     | _c::_m::main::b |
u0:24 | Function  | c     | _c::_m::main::c |
u0:25 | Function  | e     | _c::_m::main::e |

--- expect:symbol-deps ---


===============================================================================
function-parameter-names-that-match-built-in-type-names
===============================================================================


--- file: src/main.rs ---
fn foo(str: *const c_char) {}
fn bar(bool: bool) {}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                     | [global]
u0:2  | Primitive | i64   | i64                     | [global]
u0:3  | Primitive | i16   | i16                     | [global]
u0:4  | Primitive | i8    | i8                      | [global]
u0:5  | Primitive | i128  | i128                    | [global]
u0:6  | Primitive | isize | isize                   | [global]
u0:7  | Primitive | u32   | u32                     | [global]
u0:8  | Primitive | u64   | u64                     | [global]
u0:9  | Primitive | u16   | u16                     | [global]
u0:10 | Primitive | u8    | u8                      | [global]
u0:11 | Primitive | u128  | u128                    | [global]
u0:12 | Primitive | usize | usize                   | [global]
u0:13 | Primitive | f32   | f32                     | [global]
u0:14 | Primitive | f64   | f64                     | [global]
u0:15 | Primitive | bool  | bool                    | [global]
u0:16 | Primitive | char  | char                    | [global]
u0:17 | Primitive | str   | str                     | [global]
u0:18 | Crate     | _c    | _c                      | [global]
u0:19 | Crate     | crate | _c::crate               |
u0:20 | Module    | _m    | _c::_m                  |
u0:21 | File      | main  | _c::_m::main            |
u0:22 | Function  | foo   | _c::_m::main::foo       |
u0:23 | Variable  | str   | _c::_m::main::foo::str  |
u0:24 | Function  | bar   | _c::_m::main::bar       |
u0:25 | Variable  | bool  | _c::_m::main::bar::bool |

--- expect:symbol-deps ---
u0:15 <- [u0:24, u0:25]
u0:24 -> [u0:15]
u0:25 -> [u0:15]


===============================================================================
where-clauses
===============================================================================


--- file: src/main.rs ---
fn walk<F>(&self, it: &mut F) -> bool
    where F: FnMut(&Pat) -> bool
{
  return false
}

impl<'a, T: 'a + Item> Iterator for Iter<'a, T> where Self: 'a {
}

impl<T> A for B<T>
    where C<T>: D,
          T: 'c,
          'c: 'b,
{
}

impl<'a, E> Read
where &'a E: Read,
{
}

impl<T> A for B<T> where (T, T, T): C, {}

impl<T> A for B<T>
    where for<'a> D<T>: E<'a>,
{
}

pub trait A<B> where B: C,
{
}

struct Foo;

fn foo<A>() where A: Foo + As<f64>, f64: As<A> {}

impl<A> Default for B<A> where *mut A: C + D {}

--- expect:symbols ---
u0:1  | Primitive      | i32      | i32                    | [global]
u0:2  | Primitive      | i64      | i64                    | [global]
u0:3  | Primitive      | i16      | i16                    | [global]
u0:4  | Primitive      | i8       | i8                     | [global]
u0:5  | Primitive      | i128     | i128                   | [global]
u0:6  | Primitive      | isize    | isize                  | [global]
u0:7  | Primitive      | u32      | u32                    | [global]
u0:8  | Primitive      | u64      | u64                    | [global]
u0:9  | Primitive      | u16      | u16                    | [global]
u0:10 | Primitive      | u8       | u8                     | [global]
u0:11 | Primitive      | u128     | u128                   | [global]
u0:12 | Primitive      | usize    | usize                  | [global]
u0:13 | Primitive      | f32      | f32                    | [global]
u0:14 | Primitive      | f64      | f64                    | [global]
u0:15 | Primitive      | bool     | bool                   | [global]
u0:16 | Primitive      | char     | char                   | [global]
u0:17 | Primitive      | str      | str                    | [global]
u0:18 | Crate          | _c       | _c                     | [global]
u0:19 | Crate          | crate    | _c::crate              |         
u0:20 | Module         | _m       | _c::_m                 |         
u0:21 | File           | main     | _c::_m::main           |         
u0:22 | Function       | walk     | _c::_m::main::walk     |         
u0:23 | TypeParameter  | F        | _c::_m::main::walk::F  |         
u0:24 | Variable       | it       | _c::_m::main::walk::it |         
u0:25 | UnresolvedType | Iterator | _c::_m::main::Iterator |         
u0:26 | UnresolvedType | Iter     | _c::_m::main::Iter     |         
u0:27 | TypeParameter  | T        | _c::_m::main::Iter::T  |         
u0:28 | Trait          | A        | _c::_m::main::A        |         
u0:29 | UnresolvedType | B        | _c::_m::main::B        |         
u0:30 | TypeParameter  | T        | _c::_m::main::B::T     |         
u0:31 | UnresolvedType | Read     | _c::_m::main::Read     |         
u0:32 | TypeParameter  | E        | _c::_m::main::Read::E  |         
u0:33 | TypeParameter  | T        | _c::_m::main::B::T     |         
u0:34 | TypeParameter  | T        | _c::_m::main::B::T     |         
u0:35 | TypeParameter  | B        | _c::_m::main::A::B     |         
u0:36 | Struct         | Foo      | _c::_m::main::Foo      |         
u0:37 | Function       | foo      | _c::_m::main::foo      |         
u0:38 | TypeParameter  | A        | _c::_m::main::foo::A   |         
u0:39 | UnresolvedType | Default  | _c::_m::main::Default  |         
u0:40 | TypeParameter  | A        | _c::_m::main::B::A     |         

--- expect:symbol-deps ---
u0:14 <- [u0:37]
u0:15 <- [u0:22]
u0:22 -> [u0:15, u0:23]
u0:23 <- [u0:22, u0:24]
u0:24 -> [u0:23]
u0:28 <- [u0:29]
u0:29 -> [u0:28, u0:33]
u0:33 <- [u0:29]
u0:37 -> [u0:14]


===============================================================================
external-modules
===============================================================================


--- file: src/main.rs ---
extern {
  pub fn napi_module_register(mod_: *mut napi_module);
}

extern "C" {}

unsafe extern "C" {}

--- expect:symbols ---
u0:1  | Primitive | i32                  | i32                                      | [global]
u0:2  | Primitive | i64                  | i64                                      | [global]
u0:3  | Primitive | i16                  | i16                                      | [global]
u0:4  | Primitive | i8                   | i8                                       | [global]
u0:5  | Primitive | i128                 | i128                                     | [global]
u0:6  | Primitive | isize                | isize                                    | [global]
u0:7  | Primitive | u32                  | u32                                      | [global]
u0:8  | Primitive | u64                  | u64                                      | [global]
u0:9  | Primitive | u16                  | u16                                      | [global]
u0:10 | Primitive | u8                   | u8                                       | [global]
u0:11 | Primitive | u128                 | u128                                     | [global]
u0:12 | Primitive | usize                | usize                                    | [global]
u0:13 | Primitive | f32                  | f32                                      | [global]
u0:14 | Primitive | f64                  | f64                                      | [global]
u0:15 | Primitive | bool                 | bool                                     | [global]
u0:16 | Primitive | char                 | char                                     | [global]
u0:17 | Primitive | str                  | str                                      | [global]
u0:18 | Crate     | _c                   | _c                                       | [global]
u0:19 | Crate     | crate                | _c::crate                                |         
u0:20 | Module    | _m                   | _c::_m                                   |         
u0:21 | File      | main                 | _c::_m::main                             |         
u0:22 | Function  | napi_module_register | _c::_m::main::napi_module_register       |         
u0:23 | Variable  | mod_                 | _c::_m::main::napi_module_register::mod_ |         

--- expect:symbol-deps ---


===============================================================================
crate-visibility
===============================================================================


--- file: src/main.rs ---
crate mod foo;
crate struct Foo(crate crate::Bar);
crate fn foo() { }
crate const X: u32 = 0;

--- expect:symbols ---
u0:1  | Primitive | i32   | i32               | [global]
u0:2  | Primitive | i64   | i64               | [global]
u0:3  | Primitive | i16   | i16               | [global]
u0:4  | Primitive | i8    | i8                | [global]
u0:5  | Primitive | i128  | i128              | [global]
u0:6  | Primitive | isize | isize             | [global]
u0:7  | Primitive | u32   | u32               | [global]
u0:8  | Primitive | u64   | u64               | [global]
u0:9  | Primitive | u16   | u16               | [global]
u0:10 | Primitive | u8    | u8                | [global]
u0:11 | Primitive | u128  | u128              | [global]
u0:12 | Primitive | usize | usize             | [global]
u0:13 | Primitive | f32   | f32               | [global]
u0:14 | Primitive | f64   | f64               | [global]
u0:15 | Primitive | bool  | bool              | [global]
u0:16 | Primitive | char  | char              | [global]
u0:17 | Primitive | str   | str               | [global]
u0:18 | Crate     | _c    | _c                | [global]
u0:19 | Crate     | crate | _c::crate         |
u0:20 | Module    | _m    | _c::_m            |
u0:21 | File      | main  | _c::_m::main      |
u0:22 | Struct    | Foo   | _c::_m::main::Foo |
u0:23 | Function  | foo   | _c::_m::main::foo |
u0:24 | Const     | X     | _c::_m::main::X   |

--- expect:symbol-deps ---
u0:24 -> [u0:7]
u0:7 <- [u0:24]


===============================================================================
reserved-keywords-in-path
===============================================================================


--- file: src/main.rs ---
struct B;
struct C;

struct A {
  a: default::B,
  b: union::C,
}

--- expect:symbols ---
u0:1  | Primitive | i32   | i32                | [global]
u0:2  | Primitive | i64   | i64                | [global]
u0:3  | Primitive | i16   | i16                | [global]
u0:4  | Primitive | i8    | i8                 | [global]
u0:5  | Primitive | i128  | i128               | [global]
u0:6  | Primitive | isize | isize              | [global]
u0:7  | Primitive | u32   | u32                | [global]
u0:8  | Primitive | u64   | u64                | [global]
u0:9  | Primitive | u16   | u16                | [global]
u0:10 | Primitive | u8    | u8                 | [global]
u0:11 | Primitive | u128  | u128               | [global]
u0:12 | Primitive | usize | usize              | [global]
u0:13 | Primitive | f32   | f32                | [global]
u0:14 | Primitive | f64   | f64                | [global]
u0:15 | Primitive | bool  | bool               | [global]
u0:16 | Primitive | char  | char               | [global]
u0:17 | Primitive | str   | str                | [global]
u0:18 | Crate     | _c    | _c                 | [global]
u0:19 | Crate     | crate | _c::crate          |
u0:20 | Module    | _m    | _c::_m             |
u0:21 | File      | main  | _c::_m::main       |
u0:22 | Struct    | B     | _c::_m::main::B    |
u0:23 | Struct    | C     | _c::_m::main::C    |
u0:24 | Struct    | A     | _c::_m::main::A    |
u0:25 | Field     | a     | _c::_m::main::A::a |
u0:26 | Field     | b     | _c::_m::main::A::b |

--- expect:symbol-deps ---
u0:22 <- [u0:24, u0:25]
u0:23 <- [u0:24, u0:26]
u0:24 -> [u0:22, u0:23]
u0:25 -> [u0:22]
u0:26 -> [u0:23]


===============================================================================
array-constraint-in-where-clause
===============================================================================


--- file: src/main.rs ---
struct D;

fn foo<D>(val: D)
where
    [u8; 32]: From<D>,

{}

--- expect:symbols ---
u0:1  | Primitive     | i32   | i32                    | [global]
u0:2  | Primitive     | i64   | i64                    | [global]
u0:3  | Primitive     | i16   | i16                    | [global]
u0:4  | Primitive     | i8    | i8                     | [global]
u0:5  | Primitive     | i128  | i128                   | [global]
u0:6  | Primitive     | isize | isize                  | [global]
u0:7  | Primitive     | u32   | u32                    | [global]
u0:8  | Primitive     | u64   | u64                    | [global]
u0:9  | Primitive     | u16   | u16                    | [global]
u0:10 | Primitive     | u8    | u8                     | [global]
u0:11 | Primitive     | u128  | u128                   | [global]
u0:12 | Primitive     | usize | usize                  | [global]
u0:13 | Primitive     | f32   | f32                    | [global]
u0:14 | Primitive     | f64   | f64                    | [global]
u0:15 | Primitive     | bool  | bool                   | [global]
u0:16 | Primitive     | char  | char                   | [global]
u0:17 | Primitive     | str   | str                    | [global]
u0:18 | Crate         | _c    | _c                     | [global]
u0:19 | Crate         | crate | _c::crate              |
u0:20 | Module        | _m    | _c::_m                 |
u0:21 | File          | main  | _c::_m::main           |
u0:22 | Struct        | D     | _c::_m::main::D        |
u0:23 | Function      | foo   | _c::_m::main::foo      |
u0:24 | TypeParameter | D     | _c::_m::main::foo::D   |
u0:25 | Variable      | val   | _c::_m::main::foo::val |

--- expect:symbol-deps ---
u0:10 <- [u0:23]
u0:23 -> [u0:10, u0:24]
u0:24 <- [u0:23, u0:25]
u0:25 -> [u0:24]


===============================================================================
const-generics-with-default
===============================================================================


--- file: src/main.rs ---
pub struct Loaf<T: Sized, const N: usize = 1>([T; N]);

--- expect:symbols ---
u0:1  | Primitive     | i32   | i32                   | [global]
u0:2  | Primitive     | i64   | i64                   | [global]
u0:3  | Primitive     | i16   | i16                   | [global]
u0:4  | Primitive     | i8    | i8                    | [global]
u0:5  | Primitive     | i128  | i128                  | [global]
u0:6  | Primitive     | isize | isize                 | [global]
u0:7  | Primitive     | u32   | u32                   | [global]
u0:8  | Primitive     | u64   | u64                   | [global]
u0:9  | Primitive     | u16   | u16                   | [global]
u0:10 | Primitive     | u8    | u8                    | [global]
u0:11 | Primitive     | u128  | u128                  | [global]
u0:12 | Primitive     | usize | usize                 | [global]
u0:13 | Primitive     | f32   | f32                   | [global]
u0:14 | Primitive     | f64   | f64                   | [global]
u0:15 | Primitive     | bool  | bool                  | [global]
u0:16 | Primitive     | char  | char                  | [global]
u0:17 | Primitive     | str   | str                   | [global]
u0:18 | Crate         | _c    | _c                    | [global]
u0:19 | Crate         | crate | _c::crate             |         
u0:20 | Module        | _m    | _c::_m                |         
u0:21 | File          | main  | _c::_m::main          |         
u0:22 | Struct        | Loaf  | _c::_m::main::Loaf    |         
u0:23 | TypeParameter | T     | _c::_m::main::Loaf::T |         

--- expect:symbol-deps ---
u0:12 <- [u0:22]
u0:22 -> [u0:12, u0:23]
u0:23 <- [u0:22]
