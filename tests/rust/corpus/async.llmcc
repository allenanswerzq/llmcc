===============================================================================
async-function
===============================================================================


--- file: src/main.rs ---
async fn abc() {}

async fn main() {
    let x = futures.await?;
}

--- expect:symbols ---
u0:1 | Module   | main | main | [global]
u0:2 | File     | main | main |         
u0:3 | Function | abc  | abc  |         
u0:4 | Function | main | main |         
u0:5 | Variable | x    | x    |         

--- expect:symbol-deps ---


===============================================================================
await-expression
===============================================================================


--- file: src/main.rs ---
futures.await;
futures.await?;
futures.await?.await?;
futures.await?.function().await?;

--- expect:symbols ---
u0:1 | Module | main | main | [global]
u0:2 | File   | main | main |         

--- expect:symbol-deps ---


===============================================================================
async-block
===============================================================================


--- file: src/main.rs ---
async {}
async { let x = 10; }
async move {}

--- expect:symbols ---
u0:1 | Module   | main | main | [global]
u0:2 | File     | main | main |         
u0:3 | Variable | x    | x    |         

--- expect:symbol-deps ---


===============================================================================
async-closure
===============================================================================


--- file: src/main.rs ---
let _ = async || ();

--- expect:symbols ---
u0:1 | Module | main | main | [global]
u0:2 | File   | main | main |         

--- expect:symbol-deps ---


===============================================================================
async-move-async-move-closure
===============================================================================


--- file: src/main.rs ---
let a = async move || async move {};

--- expect:symbols ---
u0:1 | Module   | main | main | [global]
u0:2 | File     | main | main |         
u0:3 | Variable | a    | a    |         

--- expect:symbol-deps ---


===============================================================================
try-block
===============================================================================


--- file: src/main.rs ---
try {}

--- expect:symbols ---
u0:1 | Module | main | main | [global]
u0:2 | File   | main | main |         

--- expect:symbol-deps ---


===============================================================================
gen-block
===============================================================================


--- file: src/main.rs ---
gen {}
gen { let x = 10; }
gen { yield (); }
gen move {}

--- expect:symbols ---
u0:1 | Module   | main | main | [global]
u0:2 | File     | main | main |         
u0:3 | Variable | x    | x    |         

--- expect:symbol-deps ---
