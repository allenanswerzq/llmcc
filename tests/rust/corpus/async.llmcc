===============================================================================
async-function
===============================================================================


--- file: src/main.rs ---
async fn abc() {}

async fn main() {
    let x = futures.await?;
}

--- expect:symbols ---
u0:1  | Primitive | i32    | i32               | [global]
u0:2  | Primitive | i64    | i64               | [global]
u0:3  | Primitive | i16    | i16               | [global]
u0:4  | Primitive | i8     | i8                | [global]
u0:5  | Primitive | i128   | i128              | [global]
u0:6  | Primitive | isize  | isize             | [global]
u0:7  | Primitive | u32    | u32               | [global]
u0:8  | Primitive | u64    | u64               | [global]
u0:9  | Primitive | u16    | u16               | [global]
u0:10 | Primitive | u8     | u8                | [global]
u0:11 | Primitive | u128   | u128              | [global]
u0:12 | Primitive | usize  | usize             | [global]
u0:13 | Primitive | f32    | f32               | [global]
u0:14 | Primitive | f64    | f64               | [global]
u0:15 | Primitive | bool   | bool              | [global]
u0:16 | Primitive | char   | char              | [global]
u0:17 | Primitive | str    | str               | [global]
u0:18 | Primitive | String | String            | [global]
u0:19 | Crate     | _c     | _c                | [global]
u0:20 | Crate     | crate  | _c::crate         |         
u0:21 | File      | main   | _c::main          |         
u0:22 | Function  | abc    | _c::main::abc     |         
u0:23 | Function  | main   | _c::main::main    |         
u0:24 | Variable  | x      | _c::main::main::x |         

--- expect:symbol-deps ---


===============================================================================
await-expression
===============================================================================


--- file: src/main.rs ---
futures.await;
futures.await?;
futures.await?.await?;
futures.await?.function().await?;

--- expect:symbols ---
u0:1  | Primitive | i32    | i32       | [global]
u0:2  | Primitive | i64    | i64       | [global]
u0:3  | Primitive | i16    | i16       | [global]
u0:4  | Primitive | i8     | i8        | [global]
u0:5  | Primitive | i128   | i128      | [global]
u0:6  | Primitive | isize  | isize     | [global]
u0:7  | Primitive | u32    | u32       | [global]
u0:8  | Primitive | u64    | u64       | [global]
u0:9  | Primitive | u16    | u16       | [global]
u0:10 | Primitive | u8     | u8        | [global]
u0:11 | Primitive | u128   | u128      | [global]
u0:12 | Primitive | usize  | usize     | [global]
u0:13 | Primitive | f32    | f32       | [global]
u0:14 | Primitive | f64    | f64       | [global]
u0:15 | Primitive | bool   | bool      | [global]
u0:16 | Primitive | char   | char      | [global]
u0:17 | Primitive | str    | str       | [global]
u0:18 | Primitive | String | String    | [global]
u0:19 | Crate     | _c     | _c        | [global]
u0:20 | Crate     | crate  | _c::crate |         
u0:21 | File      | main   | _c::main  |         

--- expect:symbol-deps ---


===============================================================================
async-block
===============================================================================


--- file: src/main.rs ---
async {}
async { let x = 10; }
async move {}

--- expect:symbols ---
u0:1  | Primitive | i32    | i32         | [global]
u0:2  | Primitive | i64    | i64         | [global]
u0:3  | Primitive | i16    | i16         | [global]
u0:4  | Primitive | i8     | i8          | [global]
u0:5  | Primitive | i128   | i128        | [global]
u0:6  | Primitive | isize  | isize       | [global]
u0:7  | Primitive | u32    | u32         | [global]
u0:8  | Primitive | u64    | u64         | [global]
u0:9  | Primitive | u16    | u16         | [global]
u0:10 | Primitive | u8     | u8          | [global]
u0:11 | Primitive | u128   | u128        | [global]
u0:12 | Primitive | usize  | usize       | [global]
u0:13 | Primitive | f32    | f32         | [global]
u0:14 | Primitive | f64    | f64         | [global]
u0:15 | Primitive | bool   | bool        | [global]
u0:16 | Primitive | char   | char        | [global]
u0:17 | Primitive | str    | str         | [global]
u0:18 | Primitive | String | String      | [global]
u0:19 | Crate     | _c     | _c          | [global]
u0:20 | Crate     | crate  | _c::crate   |         
u0:21 | File      | main   | _c::main    |         
u0:22 | Variable  | x      | _c::main::x |         

--- expect:symbol-deps ---
u0:1 <- [u0:22]
u0:22 -> [u0:1]


===============================================================================
async-closure
===============================================================================


--- file: src/main.rs ---
let _ = async || ();

--- expect:symbols ---
u0:1  | Primitive | i32    | i32       | [global]
u0:2  | Primitive | i64    | i64       | [global]
u0:3  | Primitive | i16    | i16       | [global]
u0:4  | Primitive | i8     | i8        | [global]
u0:5  | Primitive | i128   | i128      | [global]
u0:6  | Primitive | isize  | isize     | [global]
u0:7  | Primitive | u32    | u32       | [global]
u0:8  | Primitive | u64    | u64       | [global]
u0:9  | Primitive | u16    | u16       | [global]
u0:10 | Primitive | u8     | u8        | [global]
u0:11 | Primitive | u128   | u128      | [global]
u0:12 | Primitive | usize  | usize     | [global]
u0:13 | Primitive | f32    | f32       | [global]
u0:14 | Primitive | f64    | f64       | [global]
u0:15 | Primitive | bool   | bool      | [global]
u0:16 | Primitive | char   | char      | [global]
u0:17 | Primitive | str    | str       | [global]
u0:18 | Primitive | String | String    | [global]
u0:19 | Crate     | _c     | _c        | [global]
u0:20 | Crate     | crate  | _c::crate |         
u0:21 | File      | main   | _c::main  |         

--- expect:symbol-deps ---


===============================================================================
async-move-async-move-closure
===============================================================================


--- file: src/main.rs ---
let a = async move || async move {};

--- expect:symbols ---
u0:1  | Primitive | i32    | i32         | [global]
u0:2  | Primitive | i64    | i64         | [global]
u0:3  | Primitive | i16    | i16         | [global]
u0:4  | Primitive | i8     | i8          | [global]
u0:5  | Primitive | i128   | i128        | [global]
u0:6  | Primitive | isize  | isize       | [global]
u0:7  | Primitive | u32    | u32         | [global]
u0:8  | Primitive | u64    | u64         | [global]
u0:9  | Primitive | u16    | u16         | [global]
u0:10 | Primitive | u8     | u8          | [global]
u0:11 | Primitive | u128   | u128        | [global]
u0:12 | Primitive | usize  | usize       | [global]
u0:13 | Primitive | f32    | f32         | [global]
u0:14 | Primitive | f64    | f64         | [global]
u0:15 | Primitive | bool   | bool        | [global]
u0:16 | Primitive | char   | char        | [global]
u0:17 | Primitive | str    | str         | [global]
u0:18 | Primitive | String | String      | [global]
u0:19 | Crate     | _c     | _c          | [global]
u0:20 | Crate     | crate  | _c::crate   |         
u0:21 | File      | main   | _c::main    |         
u0:22 | Closure   | a      | _c::main::a |         

--- expect:symbol-deps ---


===============================================================================
try-block
===============================================================================


--- file: src/main.rs ---
try {}

--- expect:symbols ---
u0:1  | Primitive | i32    | i32       | [global]
u0:2  | Primitive | i64    | i64       | [global]
u0:3  | Primitive | i16    | i16       | [global]
u0:4  | Primitive | i8     | i8        | [global]
u0:5  | Primitive | i128   | i128      | [global]
u0:6  | Primitive | isize  | isize     | [global]
u0:7  | Primitive | u32    | u32       | [global]
u0:8  | Primitive | u64    | u64       | [global]
u0:9  | Primitive | u16    | u16       | [global]
u0:10 | Primitive | u8     | u8        | [global]
u0:11 | Primitive | u128   | u128      | [global]
u0:12 | Primitive | usize  | usize     | [global]
u0:13 | Primitive | f32    | f32       | [global]
u0:14 | Primitive | f64    | f64       | [global]
u0:15 | Primitive | bool   | bool      | [global]
u0:16 | Primitive | char   | char      | [global]
u0:17 | Primitive | str    | str       | [global]
u0:18 | Primitive | String | String    | [global]
u0:19 | Crate     | _c     | _c        | [global]
u0:20 | Crate     | crate  | _c::crate |         
u0:21 | File      | main   | _c::main  |         

--- expect:symbol-deps ---


===============================================================================
gen-block
===============================================================================


--- file: src/main.rs ---
gen {}
gen { let x = 10; }
gen { yield (); }
gen move {}

--- expect:symbols ---
u0:1  | Primitive | i32    | i32         | [global]
u0:2  | Primitive | i64    | i64         | [global]
u0:3  | Primitive | i16    | i16         | [global]
u0:4  | Primitive | i8     | i8          | [global]
u0:5  | Primitive | i128   | i128        | [global]
u0:6  | Primitive | isize  | isize       | [global]
u0:7  | Primitive | u32    | u32         | [global]
u0:8  | Primitive | u64    | u64         | [global]
u0:9  | Primitive | u16    | u16         | [global]
u0:10 | Primitive | u8     | u8          | [global]
u0:11 | Primitive | u128   | u128        | [global]
u0:12 | Primitive | usize  | usize       | [global]
u0:13 | Primitive | f32    | f32         | [global]
u0:14 | Primitive | f64    | f64         | [global]
u0:15 | Primitive | bool   | bool        | [global]
u0:16 | Primitive | char   | char        | [global]
u0:17 | Primitive | str    | str         | [global]
u0:18 | Primitive | String | String      | [global]
u0:19 | Crate     | _c     | _c          | [global]
u0:20 | Crate     | crate  | _c::crate   |         
u0:21 | File      | main   | _c::main    |         
u0:22 | Variable  | x      | _c::main::x |         

--- expect:symbol-deps ---
u0:1 <- [u0:22]
u0:22 -> [u0:1]
