===============================================================================
cross-crate-use-module-call
===============================================================================
Test that function calls using module path after `use` (e.g., `use crate_b::utils; utils::helper()`)
are correctly resolved to the target crate's function.
This tests the scenario where crate_a uses the module from crate_b and calls
functions with the module-qualified path like `utils::helper()`.

--- file: crate_a/Cargo.toml ---
[package]
name = "crate_a"

[dependencies]
crate_b = { path = "../crate_b" }

--- file: crate_a/src/lib.rs ---
pub mod consumer;

--- file: crate_a/src/consumer.rs ---
use crate_b::utils;

/// Calls helper from crate_b using module-qualified path
pub fn process() -> i32 {
    utils::helper()  // Should resolve to crate_b's helper
}

--- file: crate_b/Cargo.toml ---
[package]
name = "crate_b"

--- file: crate_b/src/lib.rs ---
pub mod utils;

--- file: crate_b/src/utils.rs ---
/// Helper function defined in crate_b
pub fn helper() -> i32 {
    42
}

--- expect:block-graph ---
(root:1 lib ($TMP/crate_a/src/lib.rs)
  (module:2 consumer)
)

(root:3 consumer ($TMP/crate_a/src/consumer.rs)
  (func:4 process
    (return:5 @type i32)
    (@fdep:10 helper)
  )
)

(root:7 lib ($TMP/crate_b/src/lib.rs)
  (module:8 utils)
)

(root:9 utils ($TMP/crate_b/src/utils.rs)
  (func:10 helper
    (return:11 @type i32)
  )
)

--- expect:arch-graph ---
digraph architecture {
  subgraph cluster_crate_a {
    subgraph cluster_consumer_rs {
      n4[label="process", path="$TMP/crate_a/src/consumer.rs:4", sym_ty="Function", shape=ellipse];
    }
  }
  subgraph cluster_crate_b {
    subgraph cluster_utils_rs {
      n10[label="helper", path="$TMP/crate_b/src/utils.rs:2", sym_ty="Function", shape=ellipse];
    }
  }
  n4 -> n10 [from="caller", to="callee"];
}
