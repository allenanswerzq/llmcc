===============================================================================
edge-caller-callee
===============================================================================
Test that caller->callee edges create correct dependency direction.
When function A calls function B, A's crate depends on B's crate.
At crate level: crate_app -> crate_utils (app depends on utils)

--- file: utils/Cargo.toml ---
[package]
name = "utils"

--- file: utils/src/lib.rs ---
pub fn helper() -> u32 {
    42
}

--- file: app/Cargo.toml ---
[package]
name = "app"

[dependencies]
utils = { path = "../utils" }

--- file: app/src/lib.rs ---
use utils::helper;

/// Function calls helper from utils crate
pub fn main_logic() -> u32 {
    helper() + 1
}

--- expect:arch-graph-depth-3 ---
digraph architecture {
  // Layout settings
  rankdir=TB;
  ranksep=0.6;
  nodesep=0.3;
  splines=ortho;
  compound=true;

  node [shape=box, style=rounded];
  edge [arrowsize=0.7];

  subgraph cluster_app {
    label="app";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";

    subgraph cluster_lib_rs {
      label="lib.rs";
      style=rounded;
      color="#aaaaaa";
      bgcolor="#fafafa";

      n5[label="main_logic", full_path="$TMP/app/src/lib.rs:4", sym_ty="Function", shape=ellipse];
    }

  }

  subgraph cluster_utils {
    label="utils";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";

    subgraph cluster_lib_rs {
      label="lib.rs";
      style=rounded;
      color="#aaaaaa";
      bgcolor="#fafafa";

      n2[label="helper", full_path="$TMP/utils/src/lib.rs:1", sym_ty="Function", shape=ellipse];
    }

  }


  n5 -> n2 [from="caller", to="callee"];
}

--- expect:arch-graph-depth-2 ---
digraph architecture {
  // Layout settings
  rankdir=TB;
  ranksep=0.8;
  nodesep=0.4;
  splines=ortho;
  concentrate=true;

  node [shape=box, style="rounded,filled", fillcolor="#f0f0f0", fontname="Helvetica"];
  edge [color="#666666", arrowsize=0.7];

  labelloc=t;
  fontsize=16;
  fontname="Helvetica Bold";

  mod_app_lib[label="app::lib", folder="$TMP/app/src"];
  mod_utils_lib[label="utils::lib", folder="$TMP/utils/src"];

  mod_app_lib -> mod_utils_lib;
}

--- expect:arch-graph-depth-1 ---
digraph architecture {
  // Layout settings
  rankdir=TB;
  ranksep=0.8;
  nodesep=0.4;
  splines=ortho;
  concentrate=true;

  node [shape=box, style="rounded,filled", fillcolor="#f0f0f0", fontname="Helvetica"];
  edge [color="#666666", arrowsize=0.7];

  labelloc=t;
  fontsize=16;
  fontname="Helvetica Bold";

  crate_app[label="app", folder="$TMP/app"];
  crate_utils[label="utils", folder="$TMP/utils"];

  crate_app -> crate_utils;
}
