===============================================================================
module-aggregation
===============================================================================
Test that depth 2 (Module) aggregates nodes into module-level components.

--- file: sample/Cargo.toml ---
[package]
name = "sample"

--- file: sample/src/lib.rs ---
mod models;
mod services;

pub use models::User;
pub use services::UserService;

--- file: sample/src/models.rs ---
pub struct User {
    pub id: u64,
    pub name: String,
}

pub struct Profile {
    pub bio: String,
}

--- file: sample/src/services.rs ---
use crate::models::{User, Profile};

pub struct UserService {
    pub user: User,
    pub profile: Profile,
}

pub fn create_user() -> User {
    User { id: 1, name: "Alice".to_string() }
}

--- expect:arch-graph-depth-2 ---
digraph architecture {
  // Layout settings
  rankdir=TB;
  ranksep=0.8;
  nodesep=0.4;
  splines=ortho;
  concentrate=true;

  node [shape=box, style="rounded,filled", fillcolor="#f0f0f0", fontname="Helvetica"];
  edge [color="#666666", arrowsize=0.7];

  labelloc=t;
  fontsize=16;
  fontname="Helvetica Bold";

  mod_sample_models[label="sample::models", folder="$TMP/sample/src"];
  mod_sample_services[label="sample::services", folder="$TMP/sample/src"];

  mod_sample_services -> mod_sample_models;
}
