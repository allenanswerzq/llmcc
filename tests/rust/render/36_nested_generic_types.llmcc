===============================================================================
nested-generic-types
===============================================================================
Tests for nested generic types like Vec<Vec<T>>, HashMap<K, Vec<V>>, etc.

--- file: sample/Cargo.toml ---
[package]
name = "sample"

--- file: sample/src/lib.rs ---
mod types;
mod containers;

--- file: sample/src/types.rs ---
pub struct Vec<T> {}

pub struct User {
    pub id: u64,
    pub name: String,
}

pub struct Order {
    pub id: u64,
    pub amount: f64,
}

--- file: sample/src/containers.rs ---
use std::collections::HashMap;
use crate::types::{User, Order};

// Nested Vec<Vec<T>>
pub struct Matrix {
    pub rows: Vec<Vec<i32>>,
}

// Nested with user type: Vec<Vec<User>>
pub struct UserGrid {
    pub users: Vec<Vec<User>>,
}

// HashMap with Vec value: HashMap<K, Vec<V>>
pub struct UserOrders {
    pub orders: HashMap<User, Vec<Order>>,
}

// Triple nested: Vec<Vec<Vec<T>>>
pub struct Cube {
    pub data: Vec<Vec<Vec<f64>>>,
}

// Mixed nested: HashMap<String, Vec<Vec<User>>>
pub struct GroupedUserGrids {
    pub grids: HashMap<String, Vec<Vec<User>>>,
}

--- expect:block-graph ---
(root:1 lib ($TMP/sample/src/lib.rs)
  (module:2 types)
  (module:3 containers)
)

(root:4 types ($TMP/sample/src/types.rs)
  (class:5 Vec)
  (class:6 User
    (field:7 id @type u64)
    (field:8 name @type String)
  )
  (class:9 Order
    (field:10 id @type u64)
    (field:11 amount @type f64)
  )
)

(root:12 containers ($TMP/sample/src/containers.rs)
  (class:13 Matrix
    (field:14 rows @type:5 Vec)
    (@tdep:5 Vec)
  )
  (class:15 UserGrid
    (field:16 users @type:5 Vec)
    (@tdep:5 Vec)
  )
  (class:17 UserOrders
    (field:18 orders @type:6 User)
    (@tdep:6 User)
  )
  (class:19 Cube
    (field:20 data @type:5 Vec)
    (@tdep:5 Vec)
  )
  (class:21 GroupedUserGrids
    (field:22 grids @type:5 Vec)
    (@tdep:5 Vec)
  )
)

--- expect:arch-graph ---
digraph architecture {
  // Layout settings
  rankdir=TB;
  ranksep=0.6;
  nodesep=0.3;
  splines=ortho;
  compound=true;

  node [shape=box, style=rounded];
  edge [arrowsize=0.7];

  subgraph cluster_sample {
    label="sample";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";

    subgraph cluster_containers_rs {
      label="containers.rs";
      style=rounded;
      color="#aaaaaa";
      bgcolor="#fafafa";

      n15[label="UserGrid", full_path="$TMP/sample/src/containers.rs:10", sym_ty="Struct", shape=box];
      n17[label="UserOrders", full_path="$TMP/sample/src/containers.rs:15", sym_ty="Struct", shape=box];
      n19[label="Cube", full_path="$TMP/sample/src/containers.rs:20", sym_ty="Struct", shape=box];
      n21[label="GroupedUserGrids", full_path="$TMP/sample/src/containers.rs:25", sym_ty="Struct", shape=box];
      n13[label="Matrix", full_path="$TMP/sample/src/containers.rs:5", sym_ty="Struct", shape=box];
    }

    subgraph cluster_types_rs {
      label="types.rs";
      style=rounded;
      color="#aaaaaa";
      bgcolor="#fafafa";

      n5[label="Vec", full_path="$TMP/sample/src/types.rs:1", sym_ty="Struct", shape=box];
      n6[label="User", full_path="$TMP/sample/src/types.rs:3", sym_ty="Struct", shape=box];
      n9[label="Order", full_path="$TMP/sample/src/types.rs:8", sym_ty="Struct", shape=box];
    }

  }


  n5 -> n13 [from="type_dep", to="struct"];
  n5 -> n15 [from="type_dep", to="struct"];
  n5 -> n17 [from="type_dep", to="struct"];
  n5 -> n19 [from="type_dep", to="struct"];
  n5 -> n21 [from="type_dep", to="struct"];
  n6 -> n15 [from="type_dep", to="struct"];
  n6 -> n17 [from="type_dep", to="struct"];
  n6 -> n21 [from="type_dep", to="struct"];
  n9 -> n17 [from="type_dep", to="struct"];
}
