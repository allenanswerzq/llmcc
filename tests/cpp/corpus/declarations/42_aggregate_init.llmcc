===============================================================================
aggregate-initialization
===============================================================================
Aggregate initialization.
lang: cpp

--- file: src/lib.cpp ---
struct Point { int x, y; };

struct Line {
    Point start;
    Point end;
};

struct Array {
    int data[3];
};

void test_aggregate() {
    Point p = {1, 2};
    Line l = {{0, 0}, {10, 10}};
    Array a = {{1, 2, 3}};

    Point p2{3, 4};
    Line l2{{1, 1}, {5, 5}};
}

--- expect:block-graph ---
(root:1 lib ($TMP/src/lib.cpp)
  (class:2 Point
    (field:3 int @type int)
  )
  (class:4 Line
    (field:5 Point @type:2 Point)
    (field:6 Point @type:2 Point)
  )
  (class:7 Array
    (field:8 int @type int)
  )
  (func:9 test_aggregate)
)
