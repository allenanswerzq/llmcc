===============================================================================
edge-caller-callee
===============================================================================
Test that caller->callee edges create correct dependency direction.
When function A calls function B, A depends on B.
lang: typescript

--- file: utils/helpers.ts ---

export function helper(): number {
    return 42;
}

export function anotherHelper(): string {
    return "hello";
}

--- file: app/main.ts ---

import { helper, anotherHelper } from "../utils/helpers";

export function mainLogic(): number {
    return helper() + 1;
}

export function process(): string {
    const num = helper();
    const str = anotherHelper();
    return `${str}: ${num}`;
}

--- expect:block-graph ---
(root:1 helpers ($TMP/utils/helpers.ts)
  (func:2 helper
    (return:3 @type number)
  )
  (func:4 anotherHelper
    (return:5 @type string)
  )
)

(root:6 main ($TMP/app/main.ts)
  (func:7 mainLogic
    (return:8 @type number)
    (@fdep:2 helper)
  )
  (func:10 process
    (return:11 @type string)
    (@fdep:2 helper)
    (@fdep:4 anotherHelper)
  )
)

--- expect:arch-graph ---
digraph architecture {
  rankdir=TB;
  ranksep=0.6;
  nodesep=0.3;
  splines=ortho;
  compound=true;

  node [shape=box, style=rounded];
  edge [arrowsize=0.7];

  subgraph cluster_app {
    label="app";
    bgcolor="#f5f5f5";

    subgraph cluster_main_ts {
      label="main.ts";
      bgcolor="#fafafa";

      n7[label="mainLogic", full_path="$TMP/app/main.ts:4", sym_ty="Function", shape=ellipse];
      n10[label="process", full_path="$TMP/app/main.ts:8", sym_ty="Function", shape=ellipse];
    }

  }

  subgraph cluster_utils {
    label="utils";
    bgcolor="#f5f5f5";

    subgraph cluster_helpers_ts {
      label="helpers.ts";
      bgcolor="#fafafa";

      n2[label="helper", full_path="$TMP/utils/helpers.ts:2", sym_ty="Function", shape=ellipse];
      n4[label="anotherHelper", full_path="$TMP/utils/helpers.ts:6", sym_ty="Function", shape=ellipse];
    }

  }


  n7 -> n2 [from="caller", to="callee"];
  n10 -> n2 [from="caller", to="callee"];
  n10 -> n4 [from="caller", to="callee"];
}
