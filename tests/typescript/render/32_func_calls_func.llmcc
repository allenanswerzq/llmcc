===============================================================================
func-calls-func
===============================================================================
Test that free functions calling other free functions create edges.
lang: typescript

--- file: sample/src/lib.ts ---

export function helper(x: number): number {
    return x * 2;
}

export function processor(value: number): number {
    const result = helper(value);
    return result + 1;
}

export function orchestrator(input: number): number {
    const a = helper(input);
    const b = processor(a);
    return b;
}

--- expect:block-graph ---
(root:1 lib ($TMP/sample/src/lib.ts)
  (func:2 helper
    (parameter:3 x @type number)
    (return:4 @type number)
  )
  (func:5 processor
    (parameter:6 value @type number)
    (return:7 @type number)
    (@fdep:2 helper)
  )
  (func:9 orchestrator
    (parameter:10 input @type number)
    (return:11 @type number)
    (@fdep:2 helper)
    (@fdep:5 processor)
  )
)

--- expect:arch-graph ---
digraph architecture {
  // Layout settings
  rankdir=TB;
  ranksep=0.6;
  nodesep=0.3;
  splines=ortho;
  compound=true;

  node [shape=box, style=rounded];
  edge [arrowsize=0.7];

  subgraph cluster_lib_ts {
    label="lib.ts";
    style=rounded;
    color="#aaaaaa";
    bgcolor="#fafafa";

    n9[label="orchestrator", full_path="$TMP/sample/src/lib.ts:11", sym_ty="Function", shape=ellipse];
    n2[label="helper", full_path="$TMP/sample/src/lib.ts:2", sym_ty="Function", shape=ellipse];
    n5[label="processor", full_path="$TMP/sample/src/lib.ts:6", sym_ty="Function", shape=ellipse];
  }


  n5 -> n2 [from="caller", to="callee"];
  n9 -> n2 [from="caller", to="callee"];
  n9 -> n5 [from="caller", to="callee"];
}
