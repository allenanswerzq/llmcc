digraph architecture {
  // Layout settings
  rankdir=TB;
  ranksep=0.8;
  nodesep=0.4;
  splines=ortho;
  concentrate=true;

  node [shape=box, style="rounded,filled", fillcolor="#f0f0f0", fontname="Helvetica"];
  edge [color="#666666", arrowsize=0.7];

  labelloc=t;
  fontsize=16;
  fontname="Helvetica Bold";

  mod_llmcc_cli_options[label="llmcc-cli::options"];
  mod_llmcc_core_block[label="llmcc-core::block"];
  mod_llmcc_core_block_rel[label="llmcc-core::block_rel"];
  mod_llmcc_core_context[label="llmcc-core::context"];
  mod_llmcc_core_graph[label="llmcc-core::graph"];
  mod_llmcc_core_graph_builder[label="llmcc-core::graph_builder"];
  mod_llmcc_core_graph_render[label="llmcc-core::graph_render"];
  mod_llmcc_core_ir[label="llmcc-core::ir"];
  mod_llmcc_core_ir_builder[label="llmcc-core::ir_builder"];
  mod_llmcc_core_pagerank[label="llmcc-core::pagerank"];
  mod_llmcc_core_printer[label="llmcc-core::printer"];
  mod_llmcc_core_scope[label="llmcc-core::scope"];
  mod_llmcc_core_symbol[label="llmcc-core::symbol"];
  mod_llmcc_resolver_binder[label="llmcc-resolver::binder"];
  mod_llmcc_rust_bind[label="llmcc-rust::bind"];
  mod_llmcc_rust_infer[label="llmcc-rust::infer"];
  mod_llmcc_rust_pattern[label="llmcc-rust::pattern"];
  mod_llmcc_test_corpus[label="llmcc-test::corpus"];
  mod_llmcc_test_main[label="llmcc-test::main"];
  mod_llmcc_test_runner[label="llmcc-test::runner"];

  mod_llmcc_core_block -> mod_llmcc_core_symbol [dir=both]; // dir best-effort not accurate
  mod_llmcc_core_block_rel -> mod_llmcc_core_block;
  mod_llmcc_core_graph_builder -> mod_llmcc_core_context;
  mod_llmcc_core_graph_render -> mod_llmcc_core_block;
  mod_llmcc_core_graph_render -> mod_llmcc_core_graph;
  mod_llmcc_core_ir_builder -> mod_llmcc_core_ir;
  mod_llmcc_core_pagerank -> mod_llmcc_core_block;
  mod_llmcc_core_printer -> mod_llmcc_core_block;
  mod_llmcc_core_printer -> mod_llmcc_core_context;
  mod_llmcc_core_printer -> mod_llmcc_core_ir;
  mod_llmcc_core_scope -> mod_llmcc_core_symbol;
  mod_llmcc_rust_bind -> mod_llmcc_resolver_binder;
  mod_llmcc_rust_infer -> mod_llmcc_core_context;
  mod_llmcc_rust_infer -> mod_llmcc_core_ir;
  mod_llmcc_rust_infer -> mod_llmcc_core_symbol;
  mod_llmcc_rust_infer -> mod_llmcc_resolver_binder;
  mod_llmcc_rust_pattern -> mod_llmcc_core_context;
  mod_llmcc_rust_pattern -> mod_llmcc_core_ir;
  mod_llmcc_rust_pattern -> mod_llmcc_core_symbol;
  mod_llmcc_rust_pattern -> mod_llmcc_resolver_binder;
  mod_llmcc_test_main -> mod_llmcc_cli_options;
  mod_llmcc_test_main -> mod_llmcc_test_corpus;
  mod_llmcc_test_runner -> mod_llmcc_core_context;
  mod_llmcc_test_runner -> mod_llmcc_core_graph;
  mod_llmcc_test_runner -> mod_llmcc_core_graph_render;
  mod_llmcc_test_runner -> mod_llmcc_test_corpus;
}
