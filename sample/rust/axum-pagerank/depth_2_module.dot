digraph architecture {
  // Layout settings
  rankdir=TB;
  ranksep=0.8;
  nodesep=0.4;
  splines=ortho;
  concentrate=true;

  node [shape=box, style="rounded,filled", fillcolor="#f0f0f0", fontname="Helvetica"];
  edge [color="#666666", arrowsize=0.7];

  labelloc=t;
  fontsize=16;
  fontname="Helvetica Bold";

  subgraph cluster_axum {
    label="axum";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_axum_boxed[label="boxed"];
    mod_axum_extract[label="extract"];
    mod_axum_path[label="path"];
    mod_axum_response[label="response"];
    mod_axum_routing[label="routing"];
  }

  subgraph cluster_axum_core {
    label="axum-core";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_axum_core_extract[label="extract"];
    mod_axum_core_response[label="response"];
  }

  subgraph cluster_axum_extra {
    label="axum-extra";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_axum_extra_cookie[label="cookie"];
    mod_axum_extra_extract[label="extract"];
    mod_axum_extra_response[label="response"];
    mod_axum_extra_routing[label="routing"];
    mod_axum_extra_typed_header[label="typed_header"];
  }

  subgraph cluster_axum_macros {
    label="axum-macros";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_axum_macros_attr_parsing[label="attr_parsing"];
    mod_axum_macros_from_request[label="from_request"];
    mod_axum_macros_typed_path[label="typed_path"];
  }


  mod_axum_boxed -> mod_axum_routing;
  mod_axum_extra_cookie -> mod_axum_core_extract;
  mod_axum_extra_cookie -> mod_axum_core_response;
  mod_axum_extra_extract -> mod_axum_core_extract;
  mod_axum_extra_response -> mod_axum_core_response;
  mod_axum_extra_routing -> mod_axum_routing;
  mod_axum_extra_typed_header -> mod_axum_core_response;
  mod_axum_extract -> mod_axum_core_extract;
  mod_axum_macros_from_request -> mod_axum_macros_attr_parsing;
  mod_axum_macros_typed_path -> mod_axum_routing;
  mod_axum_path -> mod_axum_core_extract;
  mod_axum_response -> mod_axum_core_response;
}
