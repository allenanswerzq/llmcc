digraph architecture {
  // Layout settings
  rankdir=TB;
  ranksep=0.8;
  nodesep=0.4;
  splines=ortho;
  concentrate=true;

  node [shape=box, style="rounded,filled", fillcolor="#f0f0f0", fontname="Helvetica"];
  edge [color="#666666", arrowsize=0.7];

  labelloc=t;
  fontsize=16;
  fontname="Helvetica Bold";

  crate_base_db[label="base-db"];
  crate_hir[label="hir"];
  crate_hir_def[label="hir-def"];
  crate_hir_expand[label="hir-expand"];
  crate_hir_ty[label="hir-ty"];
  crate_ide[label="ide"];
  crate_ide_assists[label="ide-assists"];
  crate_ide_completion[label="ide-completion"];
  crate_ide_db[label="ide-db"];
  crate_ide_diagnostics[label="ide-diagnostics"];
  crate_ide_ssr[label="ide-ssr"];
  crate_mbe[label="mbe"];
  crate_parser[label="parser"];
  crate_project_model[label="project-model"];
  crate_query_group_macro[label="query-group-macro"];
  crate_rust_analyzer[label="rust-analyzer"];
  crate_syntax[label="syntax"];
  crate_test_utils[label="test-utils"];
  crate_ungrammar[label="ungrammar"];
  crate_xtask[label="xtask"];

  crate_base_db -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_hir -> crate_hir_def [dir=both]; // best-effort not accurate
  crate_hir -> crate_hir_expand;
  crate_hir -> crate_hir_ty [dir=both]; // best-effort not accurate
  crate_hir -> crate_syntax [dir=both]; // best-effort not accurate
  crate_hir -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_hir_def -> crate_hir_expand [dir=both]; // best-effort not accurate
  crate_hir_def -> crate_hir_ty [dir=both]; // best-effort not accurate
  crate_hir_def -> crate_ide [dir=both]; // best-effort not accurate
  crate_hir_def -> crate_parser [dir=both]; // best-effort not accurate
  crate_hir_def -> crate_project_model [dir=both]; // best-effort not accurate
  crate_hir_def -> crate_query_group_macro [dir=both]; // best-effort not accurate
  crate_hir_def -> crate_syntax [dir=both]; // best-effort not accurate
  crate_hir_def -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_hir_def -> crate_xtask [dir=both]; // best-effort not accurate
  crate_hir_expand -> crate_parser [dir=both]; // best-effort not accurate
  crate_hir_expand -> crate_query_group_macro [dir=both]; // best-effort not accurate
  crate_hir_expand -> crate_syntax [dir=both]; // best-effort not accurate
  crate_hir_expand -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_hir_ty -> crate_ide_ssr [dir=both]; // best-effort not accurate
  crate_hir_ty -> crate_parser [dir=both]; // best-effort not accurate
  crate_hir_ty -> crate_query_group_macro [dir=both]; // best-effort not accurate
  crate_hir_ty -> crate_syntax [dir=both]; // best-effort not accurate
  crate_hir_ty -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_ide -> crate_ide_completion [dir=both]; // best-effort not accurate
  crate_ide -> crate_ide_db [dir=both]; // best-effort not accurate
  crate_ide -> crate_ide_ssr [dir=both]; // best-effort not accurate
  crate_ide -> crate_parser [dir=both]; // best-effort not accurate
  crate_ide -> crate_query_group_macro [dir=both]; // best-effort not accurate
  crate_ide -> crate_rust_analyzer [dir=both]; // best-effort not accurate
  crate_ide -> crate_syntax [dir=both]; // best-effort not accurate
  crate_ide -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_ide -> crate_ungrammar [dir=both]; // best-effort not accurate
  crate_ide_assists -> crate_hir;
  crate_ide_assists -> crate_hir_def;
  crate_ide_assists -> crate_hir_ty;
  crate_ide_assists -> crate_ide_db [dir=both]; // best-effort not accurate
  crate_ide_assists -> crate_ide_ssr;
  crate_ide_assists -> crate_parser;
  crate_ide_assists -> crate_query_group_macro [dir=both]; // best-effort not accurate
  crate_ide_assists -> crate_syntax [dir=both]; // best-effort not accurate
  crate_ide_assists -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_ide_assists -> crate_ungrammar;
  crate_ide_completion -> crate_ide_db [dir=both]; // best-effort not accurate
  crate_ide_completion -> crate_ide_ssr;
  crate_ide_completion -> crate_parser [dir=both]; // best-effort not accurate
  crate_ide_completion -> crate_query_group_macro [dir=both]; // best-effort not accurate
  crate_ide_completion -> crate_syntax [dir=both]; // best-effort not accurate
  crate_ide_completion -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_ide_db -> crate_base_db;
  crate_ide_db -> crate_ide_ssr [dir=both]; // best-effort not accurate
  crate_ide_db -> crate_parser;
  crate_ide_db -> crate_query_group_macro [dir=both]; // best-effort not accurate
  crate_ide_db -> crate_syntax [dir=both]; // best-effort not accurate
  crate_ide_db -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_ide_diagnostics -> crate_hir;
  crate_ide_diagnostics -> crate_ide;
  crate_ide_diagnostics -> crate_ide_db;
  crate_ide_diagnostics -> crate_parser;
  crate_ide_diagnostics -> crate_query_group_macro;
  crate_ide_diagnostics -> crate_syntax [dir=both]; // best-effort not accurate
  crate_ide_diagnostics -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_ide_diagnostics -> crate_xtask [dir=both]; // best-effort not accurate
  crate_ide_ssr -> crate_syntax [dir=both]; // best-effort not accurate
  crate_ide_ssr -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_mbe -> crate_syntax;
  crate_mbe -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_parser -> crate_syntax [dir=both]; // best-effort not accurate
  crate_parser -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_parser -> crate_ungrammar [dir=both]; // best-effort not accurate
  crate_project_model -> crate_query_group_macro [dir=both]; // best-effort not accurate
  crate_project_model -> crate_syntax;
  crate_project_model -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_rust_analyzer -> crate_parser;
  crate_rust_analyzer -> crate_syntax;
  crate_rust_analyzer -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_syntax -> crate_test_utils [dir=both]; // best-effort not accurate
  crate_syntax -> crate_ungrammar [dir=both]; // best-effort not accurate
  crate_xtask -> crate_syntax;
}
