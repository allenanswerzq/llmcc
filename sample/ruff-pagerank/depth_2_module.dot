digraph architecture {
  // Layout settings
  rankdir=TB;
  ranksep=0.8;
  nodesep=0.4;
  splines=ortho;
  concentrate=true;

  node [shape=box, style="rounded,filled", fillcolor="#f0f0f0", fontname="Helvetica"];
  edge [color="#666666", arrowsize=0.7];

  label="module graph";
  labelloc=t;
  fontsize=16;
  fontname="Helvetica Bold";

  subgraph cluster_ruff {
    label="ruff";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ruff_commands[label="commands"];
  }

  subgraph cluster_ruff_db {
    label="ruff_db";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ruff_db_diagnostic[label="diagnostic"];
    mod_ruff_db_lib[label="lib"];
    mod_ruff_db_parsed[label="parsed"];
    mod_ruff_db_system[label="system"];
  }

  subgraph cluster_ruff_formatter {
    label="ruff_formatter";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ruff_formatter_builders[label="builders"];
    mod_ruff_formatter_format_element[label="format_element"];
    mod_ruff_formatter_lib[label="lib"];
    mod_ruff_formatter_printer[label="printer"];
  }

  subgraph cluster_ruff_linter {
    label="ruff_linter";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ruff_linter_analyze[label="analyze"];
    mod_ruff_linter_ast[label="ast"];
    mod_ruff_linter_isort[label="isort"];
    mod_ruff_linter_logical_lines[label="logical_lines"];
    mod_ruff_linter_preview[label="preview"];
    mod_ruff_linter_rules[label="rules"];
    mod_ruff_linter_settings[label="settings"];
    mod_ruff_linter_violation[label="violation"];
  }

  subgraph cluster_ruff_python_ast {
    label="ruff_python_ast";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ruff_python_ast_comparable[label="comparable"];
    mod_ruff_python_ast_generated[label="generated"];
    mod_ruff_python_ast_helpers[label="helpers"];
    mod_ruff_python_ast_nodes[label="nodes"];
    mod_ruff_python_ast_visitor[label="visitor"];
  }

  subgraph cluster_ruff_python_formatter {
    label="ruff_python_formatter";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ruff_python_formatter_comments[label="comments"];
    mod_ruff_python_formatter_expression[label="expression"];
    mod_ruff_python_formatter_other[label="other"];
    mod_ruff_python_formatter_statement[label="statement"];
    mod_ruff_python_formatter_string[label="string"];
  }

  subgraph cluster_ruff_python_literal {
    label="ruff_python_literal";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ruff_python_literal_float[label="float"];
    mod_ruff_python_literal_format[label="format"];
  }

  subgraph cluster_ruff_python_parser {
    label="ruff_python_parser";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ruff_python_parser_parser[label="parser"];
  }

  subgraph cluster_ruff_python_semantic {
    label="ruff_python_semantic";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ruff_python_semantic_analyze[label="analyze"];
    mod_ruff_python_semantic_model[label="model"];
  }

  subgraph cluster_ruff_text_size {
    label="ruff_text_size";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ruff_text_size_range[label="range"];
    mod_ruff_text_size_size[label="size"];
  }

  subgraph cluster_ruff_workspace {
    label="ruff_workspace";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ruff_workspace_options[label="options"];
  }

  subgraph cluster_ty_ide {
    label="ty_ide";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ty_ide_completion[label="completion"];
  }

  subgraph cluster_ty_module_resolver {
    label="ty_module_resolver";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ty_module_resolver_resolve[label="resolve"];
  }

  subgraph cluster_ty_project {
    label="ty_project";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ty_project_metadata[label="metadata"];
  }

  subgraph cluster_ty_python_semantic {
    label="ty_python_semantic";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ty_python_semantic_call[label="call"];
    mod_ty_python_semantic_infer[label="infer"];
    mod_ty_python_semantic_place[label="place"];
    mod_ty_python_semantic_property_tests[label="property_tests"];
    mod_ty_python_semantic_semantic_index[label="semantic_index"];
    mod_ty_python_semantic_types[label="types"];
  }

  subgraph cluster_ty_server {
    label="ty_server";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ty_server_session[label="session"];
  }

  subgraph cluster_ty_test {
    label="ty_test";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ty_test_lib[label="lib"];
  }

  subgraph cluster_ty_wasm {
    label="ty_wasm";
    style=rounded;
    color="#888888";
    bgcolor="#f0f0f0";
    fontname="Helvetica Bold";

    mod_ty_wasm_lib[label="lib"];
  }


  mod_ruff_commands -> mod_ruff_linter_settings;
  mod_ruff_db_diagnostic -> mod_ruff_text_size_size;
  mod_ruff_db_diagnostic -> mod_ty_test_lib;
  mod_ruff_db_diagnostic -> mod_ty_wasm_lib;
  mod_ruff_db_system -> mod_ty_test_lib;
  mod_ruff_formatter_builders -> mod_ruff_formatter_format_element;
  mod_ruff_formatter_builders -> mod_ruff_formatter_lib;
  mod_ruff_formatter_builders -> mod_ruff_linter_rules;
  mod_ruff_formatter_builders -> mod_ty_python_semantic_call;
  mod_ruff_formatter_format_element -> mod_ruff_formatter_lib;
  mod_ruff_formatter_lib -> mod_ruff_text_size_range;
  mod_ruff_formatter_lib -> mod_ty_test_lib;
  mod_ruff_formatter_printer -> mod_ruff_formatter_format_element;
  mod_ruff_linter_analyze -> mod_ruff_linter_ast;
  mod_ruff_linter_analyze -> mod_ruff_python_ast_generated;
  mod_ruff_linter_analyze -> mod_ruff_python_ast_nodes;
  mod_ruff_linter_ast -> mod_ruff_linter_settings;
  mod_ruff_linter_ast -> mod_ruff_python_semantic_model;
  mod_ruff_linter_ast -> mod_ty_python_semantic_semantic_index;
  mod_ruff_linter_isort -> mod_ruff_python_ast_generated;
  mod_ruff_linter_isort -> mod_ty_test_lib;
  mod_ruff_linter_logical_lines -> mod_ruff_formatter_builders;
  mod_ruff_linter_logical_lines -> mod_ruff_linter_ast;
  mod_ruff_linter_logical_lines -> mod_ruff_linter_violation;
  mod_ruff_linter_logical_lines -> mod_ruff_text_size_range;
  mod_ruff_linter_logical_lines -> mod_ruff_text_size_size;
  mod_ruff_linter_logical_lines -> mod_ty_python_semantic_semantic_index;
  mod_ruff_linter_preview -> mod_ruff_linter_settings;
  mod_ruff_linter_rules -> mod_ruff_linter_ast;
  mod_ruff_linter_rules -> mod_ruff_linter_preview;
  mod_ruff_linter_rules -> mod_ruff_linter_settings;
  mod_ruff_linter_rules -> mod_ruff_linter_violation;
  mod_ruff_linter_rules -> mod_ruff_python_ast_comparable;
  mod_ruff_linter_rules -> mod_ruff_python_ast_generated;
  mod_ruff_linter_rules -> mod_ruff_python_ast_helpers;
  mod_ruff_linter_rules -> mod_ruff_python_ast_nodes;
  mod_ruff_linter_rules -> mod_ruff_python_ast_visitor;
  mod_ruff_linter_rules -> mod_ruff_python_literal_float;
  mod_ruff_linter_rules -> mod_ruff_python_literal_format;
  mod_ruff_linter_rules -> mod_ruff_python_semantic_analyze;
  mod_ruff_linter_rules -> mod_ruff_python_semantic_model;
  mod_ruff_linter_rules -> mod_ruff_text_size_range;
  mod_ruff_linter_rules -> mod_ruff_text_size_size;
  mod_ruff_linter_rules -> mod_ruff_workspace_options;
  mod_ruff_linter_rules -> mod_ty_python_semantic_call;
  mod_ruff_linter_rules -> mod_ty_python_semantic_semantic_index;
  mod_ruff_linter_rules -> mod_ty_test_lib;
  mod_ruff_linter_rules -> mod_ty_wasm_lib;
  mod_ruff_linter_settings -> mod_ty_test_lib;
  mod_ruff_python_ast_comparable -> mod_ruff_python_ast_generated;
  mod_ruff_python_ast_generated -> mod_ruff_python_ast_nodes;
  mod_ruff_python_ast_helpers -> mod_ruff_python_ast_generated;
  mod_ruff_python_ast_helpers -> mod_ruff_python_ast_visitor;
  mod_ruff_python_ast_nodes -> mod_ty_wasm_lib;
  mod_ruff_python_ast_visitor -> mod_ruff_linter_analyze;
  mod_ruff_python_ast_visitor -> mod_ruff_python_ast_generated;
  mod_ruff_python_ast_visitor -> mod_ruff_python_ast_nodes;
  mod_ruff_python_formatter_comments -> mod_ruff_formatter_lib;
  mod_ruff_python_formatter_comments -> mod_ruff_linter_analyze;
  mod_ruff_python_formatter_comments -> mod_ruff_python_ast_generated;
  mod_ruff_python_formatter_comments -> mod_ruff_python_ast_nodes;
  mod_ruff_python_formatter_comments -> mod_ruff_python_ast_visitor;
  mod_ruff_python_formatter_comments -> mod_ruff_text_size_range;
  mod_ruff_python_formatter_expression -> mod_ruff_commands;
  mod_ruff_python_formatter_expression -> mod_ruff_formatter_builders;
  mod_ruff_python_formatter_expression -> mod_ruff_formatter_lib;
  mod_ruff_python_formatter_expression -> mod_ruff_python_ast_generated;
  mod_ruff_python_formatter_expression -> mod_ruff_python_ast_nodes;
  mod_ruff_python_formatter_other -> mod_ruff_formatter_lib;
  mod_ruff_python_formatter_other -> mod_ruff_python_ast_generated;
  mod_ruff_python_formatter_other -> mod_ruff_python_ast_nodes;
  mod_ruff_python_formatter_other -> mod_ruff_text_size_range;
  mod_ruff_python_formatter_statement -> mod_ruff_commands;
  mod_ruff_python_formatter_statement -> mod_ruff_formatter_builders;
  mod_ruff_python_formatter_statement -> mod_ruff_formatter_lib;
  mod_ruff_python_formatter_statement -> mod_ruff_python_ast_generated;
  mod_ruff_python_formatter_statement -> mod_ruff_python_ast_nodes;
  mod_ruff_python_formatter_statement -> mod_ruff_python_formatter_comments;
  mod_ruff_python_formatter_statement -> mod_ruff_text_size_range;
  mod_ruff_python_formatter_statement -> mod_ty_python_semantic_call;
  mod_ruff_python_formatter_string -> mod_ruff_formatter_builders;
  mod_ruff_python_formatter_string -> mod_ruff_formatter_lib;
  mod_ruff_python_formatter_string -> mod_ruff_linter_rules;
  mod_ruff_python_formatter_string -> mod_ruff_python_ast_nodes;
  mod_ruff_python_formatter_string -> mod_ruff_text_size_range;
  mod_ruff_python_formatter_string -> mod_ruff_text_size_size;
  mod_ruff_python_literal_format -> mod_ruff_formatter_builders;
  mod_ruff_python_parser_parser -> mod_ruff_python_ast_generated;
  mod_ruff_python_parser_parser -> mod_ruff_python_ast_nodes;
  mod_ruff_python_parser_parser -> mod_ruff_text_size_range;
  mod_ruff_python_semantic_analyze -> mod_ruff_linter_analyze;
  mod_ruff_python_semantic_analyze -> mod_ruff_python_ast_generated;
  mod_ruff_python_semantic_analyze -> mod_ruff_python_ast_helpers;
  mod_ruff_python_semantic_analyze -> mod_ruff_python_ast_nodes;
  mod_ruff_python_semantic_analyze -> mod_ruff_python_semantic_model;
  mod_ruff_python_semantic_analyze -> mod_ty_python_semantic_call;
  mod_ruff_python_semantic_model -> mod_ty_python_semantic_semantic_index;
  mod_ruff_python_semantic_model -> mod_ty_wasm_lib;
  mod_ty_ide_completion -> mod_ruff_db_parsed;
  mod_ty_ide_completion -> mod_ruff_db_system;
  mod_ty_ide_completion -> mod_ruff_linter_rules;
  mod_ty_ide_completion -> mod_ruff_workspace_options;
  mod_ty_module_resolver_resolve -> mod_ruff_db_system;
  mod_ty_module_resolver_resolve -> mod_ruff_linter_analyze;
  mod_ty_module_resolver_resolve -> mod_ruff_linter_rules;
  mod_ty_module_resolver_resolve -> mod_ruff_workspace_options;
  mod_ty_module_resolver_resolve -> mod_ty_python_semantic_semantic_index;
  mod_ty_project_metadata -> mod_ruff_db_system;
  mod_ty_project_metadata -> mod_ty_test_lib;
  mod_ty_python_semantic_call -> mod_ty_python_semantic_types;
  mod_ty_python_semantic_call -> mod_ty_test_lib;
  mod_ty_python_semantic_infer -> mod_ty_python_semantic_semantic_index;
  mod_ty_python_semantic_infer -> mod_ty_python_semantic_types;
  mod_ty_python_semantic_place -> mod_ruff_db_lib;
  mod_ty_python_semantic_place -> mod_ty_module_resolver_resolve;
  mod_ty_python_semantic_place -> mod_ty_python_semantic_semantic_index;
  mod_ty_python_semantic_place -> mod_ty_python_semantic_types;
  mod_ty_python_semantic_property_tests -> mod_ty_python_semantic_types;
  mod_ty_python_semantic_semantic_index -> mod_ruff_db_parsed;
  mod_ty_python_semantic_semantic_index -> mod_ruff_db_system;
  mod_ty_python_semantic_semantic_index -> mod_ruff_python_ast_generated;
  mod_ty_python_semantic_semantic_index -> mod_ruff_python_ast_visitor;
  mod_ty_python_semantic_semantic_index -> mod_ruff_workspace_options;
  mod_ty_python_semantic_semantic_index -> mod_ty_python_semantic_call;
  mod_ty_python_semantic_semantic_index -> mod_ty_python_semantic_types;
  mod_ty_python_semantic_semantic_index -> mod_ty_test_lib;
  mod_ty_python_semantic_types -> mod_ruff_db_diagnostic;
  mod_ty_python_semantic_types -> mod_ruff_db_lib;
  mod_ty_python_semantic_types -> mod_ruff_db_parsed;
  mod_ty_python_semantic_types -> mod_ruff_db_system;
  mod_ty_python_semantic_types -> mod_ruff_linter_analyze;
  mod_ty_python_semantic_types -> mod_ruff_python_ast_generated;
  mod_ty_python_semantic_types -> mod_ruff_python_ast_helpers;
  mod_ty_python_semantic_types -> mod_ruff_python_ast_nodes;
  mod_ty_python_semantic_types -> mod_ruff_python_semantic_model;
  mod_ty_python_semantic_types -> mod_ruff_text_size_range;
  mod_ty_python_semantic_types -> mod_ruff_workspace_options;
  mod_ty_python_semantic_types -> mod_ty_module_resolver_resolve;
  mod_ty_python_semantic_types -> mod_ty_test_lib;
  mod_ty_server_session -> mod_ruff_db_system;
  mod_ty_wasm_lib -> mod_ruff_db_system;
}
